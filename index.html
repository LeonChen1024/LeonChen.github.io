<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8">
<title>LeonChen&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />



    <meta property="og:type" content="website">
<meta property="og:title" content="LeonChen&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="LeonChen&#39;s Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeonChen&#39;s Blog">





<link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111687087-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-111687087-1');
</script>


    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="LeonChen&#39;s Blog" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item is-active"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/LeonChen1024">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-image">
        <a href="/2020/03/31/Module-dependency-manage/" class="image is-7by1">
            <img class="banner" src="/2020/03/31/Module-dependency-manage/title.jpg" alt="Android 模块依赖版本管理">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-03-30T16:00:00.000Z">2020-03-31</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/版本管理/">版本管理</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 593 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/03/31/Module-dependency-manage/">Android 模块依赖版本管理</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="android-模块依赖版本管理">Android 模块依赖版本管理</span></h1><p>由于 Android 模块化的需要,依赖库要保持统一,但是每次一旦某个模块版本变动,就要手动修改所有模块的版本号未免显得有些繁琐,而且有一些共用的模块可能在不同的项目中要使用不同的版本.所以需要一个统一管理版本模块的方法.</p>
<h1><span id="步骤">步骤</span></h1><h3><span id="1-在项目主目录下新建一个名为-dependencygradle-的文件">1. 在项目主目录下新建一个名为 <code>dependency.gradle</code> 的文件</span></h3><h3><span id="2-在该文件写入配置信息">2. 在该文件写入配置信息</span></h3><figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">ext &#123;</div><div class="line">    </div><div class="line">    ext.deps = [:]</div><div class="line">    <span class="hljs-keyword">def</span> deps = [:]</div><div class="line"></div><div class="line">    <span class="hljs-comment">// 统一的版本号管理</span></div><div class="line">    <span class="hljs-keyword">def</span> versions = [:]</div><div class="line">    versions.kotlin = <span class="hljs-string">"1.3.70"</span></div><div class="line">    versions.android_gradle_plugin = <span class="hljs-string">"3.5.2"</span></div><div class="line">    versions.appcompat = <span class="hljs-string">"1.1.0"</span></div><div class="line">    versions.dagger = <span class="hljs-string">"2.16"</span></div><div class="line">    versions.material = <span class="hljs-string">"1.2.0-alpha03"</span></div><div class="line">    versions.work = <span class="hljs-string">"2.3.0-alpha01"</span></div><div class="line">    versions.retrofit = <span class="hljs-string">"2.3.0"</span></div><div class="line">    versions.recyclerview = <span class="hljs-string">"1.1.0"</span></div><div class="line">    versions.okhttp = <span class="hljs-string">"3.0.1"</span></div><div class="line">    versions.guava = <span class="hljs-string">"20.0"</span></div><div class="line">    versions.navigation = <span class="hljs-string">"2.3.0-alpha01"</span></div><div class="line">    versions.multidex = <span class="hljs-string">"1.0.0"</span></div><div class="line"></div><div class="line"><span class="hljs-comment">//------------------------------------------------------------------------------</span></div><div class="line"></div><div class="line">    <span class="hljs-comment">// 一组依赖可以使用这个方式</span></div><div class="line">    <span class="hljs-keyword">def</span> navigation = [:]</div><div class="line">    navigation.runtime = <span class="hljs-string">"androidx.navigation:navigation-runtime:$versions.navigation"</span></div><div class="line">    navigation.runtime_ktx = <span class="hljs-string">"androidx.navigation:navigation-runtime-ktx:$versions.navigation"</span></div><div class="line">    navigation.fragment = <span class="hljs-string">"androidx.navigation:navigation-fragment:$versions.navigation"</span></div><div class="line">    <span class="hljs-comment">// 这句要记得</span></div><div class="line">    deps.navigation = navigation</div><div class="line">    ...</div><div class="line">    </div><div class="line">    <span class="hljs-comment">// 单个依赖可以使用这中方式</span></div><div class="line">    deps.app_compat = <span class="hljs-string">"androidx.appcompat:appcompat:$versions.appcompat"</span>    </div><div class="line">        </div><div class="line">    <span class="hljs-comment">// app 本身的版本管理也可以放进来</span></div><div class="line">    <span class="hljs-keyword">def</span> build_versions = [:]</div><div class="line">    build_versions.min_sdk = <span class="hljs-number">19</span></div><div class="line">    build_versions.compile_sdk = <span class="hljs-number">29</span></div><div class="line">    build_versions.target_sdk = <span class="hljs-number">29</span></div><div class="line">    build_versions.build_tools = <span class="hljs-string">"29.0.3"</span></div><div class="line">    ext.build_versions = build_versions</div><div class="line">    </div><div class="line">    ext.deps = deps</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如上图所示,配置文件就完成了</p>
<h3><span id="3-使用">3. 使用</span></h3><p>在 root 目录下的 <code>build.gradle</code> 中加上 <code>apply from: &quot;dependency.gradle&quot;</code></p>
<p>在需要添加依赖的 Module 中使用,如下</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">android &#123;</div><div class="line">    compileSdkVersion build_versions.compile_sdk</div><div class="line">    buildToolsVersion build_versions.buildToolsVersion</div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        minSdkVersion build_versions.minSdkVersion</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    compile fileTree(<span class="hljs-string">dir:</span> <span class="hljs-string">'libs'</span>, <span class="hljs-string">include:</span> [<span class="hljs-string">'*.jar'</span>])</div><div class="line">    implementation deps.app_compat</div><div class="line">    implementation deps.navigation.runtime</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3><span id="tip">tip</span></h3><p>在多应用的情况下,最好是有一个统一的文档对所有的依赖名等做一个规范,避免出现不同项目使用了不同的命名.</p>
<h1><span id="进阶">进阶</span></h1><p>当我们有多个项目的时候,使用同样的一份依赖可以免去大量的重复工作,和版本适配问题.这个时候其实也很简单</p>
<h3><span id="本地版">本地版</span></h3><figure class="highlight gradle hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apply <span class="hljs-keyword">from</span>: <span class="hljs-string">"../../AndroidShareLib/gradle/dependency.gradle"</span></div></pre></td></tr></table></figure>
<p>我们只需要放在一个共有目录下进行索引即可,这样两个项目都可以复用这个依赖文件</p>
<h3><span id="网络版">网络版</span></h3><p>将这个gradle 放在网上,比如git仓库中,然后这里使用连接引用即可</p>
<h1><span id="reference">Reference</span></h1><p><a href="http://leonchen1024.com/2018/04/13/APP-Version-Control/" target="_blank" rel="external">APP 版本控制</a></p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=false" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="android-模块依赖版本管理">Android 模块依赖版本管理</span></h1><p>由于 Android 模块化的需要,依赖库要保持统一,但是每次一旦某个模块版本变动,就要手动修改所有模块的版本号未免显得有些繁琐,而且有一些共用的模块可能在不同的项目中要使用不同的版本.所以需要一个统一管理版本模块的方法.</p>
<h1><span id="步骤">步骤</span></h1><h3><span id="1-在项目主目录下新建一个名为-dependencygradle-的文件">1. 在项目主目录下新建一个名为 <code>dependency.gradle</code> 的文件</span></h3><h3><span id="2-在该文件写入配置信息">2. 在该文件写入配置信息</span></h3><figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">ext &#123;</div><div class="line">    </div><div class="line">    ext.deps = [:]</div><div class="line">    <span class="hljs-keyword">def</span> deps = [:]</div><div class="line"></div><div class="line">    <span class="hljs-comment">// 统一的版本号管理</span></div><div class="line">    <span class="hljs-keyword">def</span> versions = [:]</div><div class="line">    versions.kotlin = <span class="hljs-string">"1.3.70"</span></div><div class="line">    versions.android_gradle_plugin = <span class="hljs-string">"3.5.2"</span></div><div class="line">    versions.appcompat = <span class="hljs-string">"1.1.0"</span></div><div class="line">    versions.dagger = <span class="hljs-string">"2.16"</span></div><div class="line">    versions.material = <span class="hljs-string">"1.2.0-alpha03"</span></div><div class="line">    versions.work = <span class="hljs-string">"2.3.0-alpha01"</span></div><div class="line">    versions.retrofit = <span class="hljs-string">"2.3.0"</span></div><div class="line">    versions.recyclerview = <span class="hljs-string">"1.1.0"</span></div><div class="line">    versions.okhttp = <span class="hljs-string">"3.0.1"</span></div><div class="line">    versions.guava = <span class="hljs-string">"20.0"</span></div><div class="line">    versions.navigation = <span class="hljs-string">"2.3.0-alpha01"</span></div><div class="line">    versions.multidex = <span class="hljs-string">"1.0.0"</span></div><div class="line"></div><div class="line"><span class="hljs-comment">//------------------------------------------------------------------------------</span></div><div class="line"></div><div class="line">    <span class="hljs-comment">// 一组依赖可以使用这个方式</span></div><div class="line">    <span class="hljs-keyword">def</span> navigation = [:]</div><div class="line">    navigation.runtime = <span class="hljs-string">"androidx.navigation:navigation-runtime:$versions.navigation"</span></div><div class="line">    navigation.runtime_ktx = <span class="hljs-string">"androidx.navigation:navigation-runtime-ktx:$versions.navigation"</span></div><div class="line">    navigation.fragment = <span class="hljs-string">"androidx.navigation:navigation-fragment:$versions.navigation"</span></div><div class="line">    <span class="hljs-comment">// 这句要记得</span></div><div class="line">    deps.navigation = navigation</div><div class="line">    ...</div><div class="line">    </div><div class="line">    <span class="hljs-comment">// 单个依赖可以使用这中方式</span></div><div class="line">    deps.app_compat = <span class="hljs-string">"androidx.appcompat:appcompat:$versions.appcompat"</span>    </div><div class="line">        </div><div class="line">    <span class="hljs-comment">// app 本身的版本管理也可以放进来</span></div><div class="line">    <span class="hljs-keyword">def</span> build_versions = [:]</div><div class="line">    build_versions.min_sdk = <span class="hljs-number">19</span></div><div class="line">    build_versions.compile_sdk = <span class="hljs-number">29</span></div><div class="line">    build_versions.target_sdk = <span class="hljs-number">29</span></div><div class="line">    build_versions.build_tools = <span class="hljs-string">"29.0.3"</span></div><div class="line">    ext.build_versions = build_versions</div><div class="line">    </div><div class="line">    ext.deps = deps</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如上图所示,配置文件就完成了</p>
<h3><span id="3-使用">3. 使用</span></h3><p>在 root 目录下的 <code>build.gradle</code> 中加上 <code>apply from: &quot;dependency.gradle&quot;</code></p>
<p>在需要添加依赖的 Module 中使用,如下</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/03/31/Module-dependency-manage/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2020/03/01/Gradle-Kotlin/" class="image is-7by1">
            <img class="banner" src="/2020/03/01/Gradle-Kotlin/title.jpg" alt="Gradle Kotlin DSL">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-29T16:00:00.000Z">2020-03-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Gradle/">Gradle</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 724 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/03/01/Gradle-Kotlin/">Gradle Kotlin DSL</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="gradle-kotlin-dsl">Gradle Kotlin DSL</span></h1><p>[TOC]</p>
<h1><span id="我觉得你们可以先看最后的彩蛋再决定是不是要看">我觉得你们可以先看最后的彩蛋再决定是不是要看</span></h1><p>强烈推荐先看文章最后的彩蛋!!!  </p>
<h1><span id="为什么选择-gradle-kotlin-dsl">为什么选择 Gradle Kotlin DSL</span></h1><p>首先我们要先明确我们这么做的原因有哪些?是否值的我们从 groovy 迁移到 kotlin.</p>
<p>Kotlin 相比于 Groovy 有这么几个好处:</p>
<ul>
<li>可以更好的支持自动补全和内容提示</li>
<li>源码导航</li>
<li>重构等支持</li>
<li>语言和Android开发一致,更加舒适</li>
</ul>
<h1><span id="开始">开始</span></h1><p>首先将所有的 <code>build.gradle</code> 修改为 <code>build.gradle.kts</code> .这个时候运行会报语法错误的.</p>
<p>接下来开始修改,基本上就是使用kotlin的语法替代了原来的groovy语法(虽然我一直没有很了解groovy的语法 )</p>
<p>如果整个过程还不是很了解,下面是一个手把手替换步骤,按照下面步骤就可以了</p>
<h2><span id="1-修改settingsgradle">1. 修改settings.gradle</span></h2><p>更换名字为 <code>settings.gradle.kts</code></p>
<p>将内容 </p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">rootProject.name=<span class="hljs-string">'qc'</span></div><div class="line">include <span class="hljs-string">':app'</span></div></pre></td></tr></table></figure>
<p>替换为</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">//声明使用build.gradle.kts来构建项目</span></div><div class="line">rootProject.buildFileName = <span class="hljs-string">"build.gradle.kts"</span></div><div class="line">include(<span class="hljs-string">":app"</span>)</div></pre></td></tr></table></figure>
<h2><span id="2-修改项目-buildgradle">2. 修改项目 build.gradle</span></h2><p>一样的,先重命名加上 <code>.kts</code> 后缀为 <code>build.gradle</code></p>
<p>接着将</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span></div><div class="line"></div><div class="line">buildscript &#123;</div><div class="line">    ext.kotlin_version = <span class="hljs-string">'1.3.70'</span></div><div class="line">    repositories &#123;</div><div class="line">        google()</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath <span class="hljs-string">'com.android.tools.build:gradle:3.6.1'</span></div><div class="line">        classpath <span class="hljs-string">"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"</span></div><div class="line"></div><div class="line">        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></div><div class="line">        <span class="hljs-comment">// in the individual module build.gradle files</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">allprojects &#123;</div><div class="line">    repositories &#123;</div><div class="line">        google()</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task clean(<span class="hljs-string">type:</span> Delete) &#123;</div><div class="line">    delete rootProject.buildDir</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>替换为</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span></div><div class="line"></div><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        google()</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath(<span class="hljs-string">"com.android.tools.build:gradle:3.6.1"</span>)</div><div class="line">        classpath(kotlin(<span class="hljs-string">"gradle-plugin"</span>, version = <span class="hljs-string">"1.3.70"</span>))</div><div class="line"></div><div class="line">        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></div><div class="line">        <span class="hljs-comment">// in the individual module build.gradle files</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">allprojects &#123;</div><div class="line">    repositories &#123;</div><div class="line">        google()</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">tasks.register(<span class="hljs-string">"clean"</span>, Delete::<span class="hljs-class"><span class="hljs-keyword">class</span>) </span>&#123;</div><div class="line">    delete(rootProject.buildDir)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2><span id="3-修改module-的-buildgradle">3. 修改module 的 build.gradle</span></h2><p>老配方,加上<code>.kts</code> 后缀</p>
<p>然后将</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">apply <span class="hljs-string">plugin:</span> <span class="hljs-string">'com.android.application'</span></div><div class="line">apply <span class="hljs-string">plugin:</span> <span class="hljs-string">'kotlin-android'</span></div><div class="line">apply <span class="hljs-string">plugin:</span> <span class="hljs-string">'kotlin-android-extensions'</span></div><div class="line"></div><div class="line">android &#123;</div><div class="line">    compileSdkVersion <span class="hljs-number">29</span></div><div class="line">    buildToolsVersion <span class="hljs-string">"29.0.2"</span></div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        applicationId <span class="hljs-string">"com.darenscm.www.qc"</span></div><div class="line">        minSdkVersion <span class="hljs-number">21</span></div><div class="line">        targetSdkVersion <span class="hljs-number">29</span></div><div class="line">        versionCode <span class="hljs-number">1</span></div><div class="line">        versionName <span class="hljs-string">"1.0"</span></div><div class="line"></div><div class="line">        testInstrumentationRunner <span class="hljs-string">"androidx.test.runner.AndroidJUnitRunner"</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    buildTypes &#123;</div><div class="line">       release &#123;</div><div class="line">           minifyEnabled <span class="hljs-literal">false</span></div><div class="line">           proguardFiles getDefaultProguardFile(<span class="hljs-string">'proguard-android-optimize.txt'</span>), <span class="hljs-string">'proguard-rules.pro'</span></div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">dependencies &#123;</div><div class="line">    implementation fileTree(<span class="hljs-string">dir:</span> <span class="hljs-string">'libs'</span>, <span class="hljs-string">include:</span> [<span class="hljs-string">'*.jar'</span>])</div><div class="line">implementation <span class="hljs-string">"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"</span></div><div class="line">    implementation <span class="hljs-string">'androidx.appcompat:appcompat:1.1.0'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>替换为</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">import</span> org.jetbrains.kotlin.config.KotlinCompilerVersion</div><div class="line"></div><div class="line">plugins &#123;</div><div class="line">    id(<span class="hljs-string">"com.android.application"</span>)</div><div class="line">    kotlin(<span class="hljs-string">"android"</span>)</div><div class="line">    kotlin(<span class="hljs-string">"android.extensions"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-comment">//apply plugin: 'com.android.application'</span></div><div class="line"><span class="hljs-comment">//apply plugin: 'kotlin-android'</span></div><div class="line"><span class="hljs-comment">//apply plugin: 'kotlin-android-extensions'</span></div><div class="line"></div><div class="line">android &#123;</div><div class="line">    compileSdkVersion(<span class="hljs-number">29</span>)</div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        applicationId= <span class="hljs-string">"com.darenscm.www.qc"</span></div><div class="line">        minSdkVersion(<span class="hljs-number">21</span>)</div><div class="line">        targetSdkVersion(<span class="hljs-number">29</span>)</div><div class="line">        versionCode = <span class="hljs-number">1</span></div><div class="line">        versionName = <span class="hljs-string">"1.0"</span></div><div class="line">        testInstrumentationRunner= <span class="hljs-string">"androidx.test.runner.AndroidJUnitRunner"</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    buildTypes &#123;</div><div class="line">        getByName(<span class="hljs-string">"release"</span>) &#123;</div><div class="line">            isMinifyEnabled = <span class="hljs-literal">false</span></div><div class="line">            proguardFiles(getDefaultProguardFile(<span class="hljs-string">"proguard-android.txt"</span>), <span class="hljs-string">"proguard-rules.pro"</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">dependencies &#123;</div><div class="line">    implementation(fileTree(mapOf(<span class="hljs-string">"dir"</span> to <span class="hljs-string">"libs"</span>, <span class="hljs-string">"include"</span> to listOf(<span class="hljs-string">"*.jar"</span>))))</div><div class="line">    implementation(kotlin(<span class="hljs-string">"stdlib-jdk7"</span>, KotlinCompilerVersion.VERSION))</div><div class="line">    implementation(<span class="hljs-string">"androidx.appcompat:appcompat:1.1.0"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>至此就可以运行成功了</p>
<h1><span id="彩蛋">彩蛋!!!!!!!!</span></h1><p>成功运行后,IDE还是全部<strong>报红</strong>!!!</p>
<p>全部报红…很好…..很好… #%^$@%^#&amp;^%&amp;^#%#&amp;^%^@&amp;^</p>
<p>IDE 暂时还不能很好的支持…… 很好…</p>
<p>我撤回前面说的好处,请暂时不要入坑…强迫症表示想死….建议等到工具链完善之后再使用</p>
<p>再见!!</p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=true" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="gradle-kotlin-dsl">Gradle Kotlin DSL</span></h1><p>[TOC]</p>
<h1><span id="我觉得你们可以先看最后的彩蛋再决定是不是要看">我觉得你们可以先看最后的彩蛋再决定是不是要看</span></h1><p>强烈推荐先看文章最后的彩蛋!!!  </p>
<h1><span id="为什么选择-gradle-kotlin-dsl">为什么选择 Gradle Kotlin DSL</span></h1><p>首先我们要先明确我们这么做的原因有哪些?是否值的我们从 groovy 迁移到 kotlin.</p>
<p>Kotlin 相比于 Groovy 有这么几个好处:</p>
<ul>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/03/01/Gradle-Kotlin/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/" class="image is-7by1">
            <img class="banner" src="/2020/02/26/S1ep5-Tool-Strict-Mode/title.jpg" alt="工具 严格模式">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/Android-Performance-pattern/">Android Performance pattern</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 808 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/26/S1ep5-Tool-Strict-Mode/">工具 严格模式</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="tool-strict-mode">Tool: Strict Mode</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>当你的应用中的事件处理超过了 5 秒钟没有响应的时候,Android 会弹出一个 ANR 弹窗. 这是因为 UI 线程被阻塞了,它在等待某些事情的完成.因为 UI 线程是唯一一个可以处理输入和绘制的线程,当它停止响应的时候,你的 app 也停止了响应. </p>
<p>那么什么会导致 UI 线程像这样停止呢?通常情况下系统调用可以无期限的阻塞它,就像磁盘或者网络获取.这些阻塞调用是你应用中的定时炸弹.在正常情况下,它们运行的非常快,你甚至无法注意到他们.但在某些软件和硬件条件以及一些运气的情况下,他们爆炸了.</p>
<h1><span id="方案">方案</span></h1><p>接下来我们来介绍一下如何找到这些隐藏的问题.这个工具的名字叫 Strict Mode ,你可以在 开发者模式中勾选上 <code>Strict Mode Enabled</code> 来启动它.当它是启动的时候,在你的应用中如果有在 UI 线程中的耗时操作的时候屏幕的边框会变成红色的.</p>
<p>Strict Mode 实际上定义了你在什么线程中可以做什么事,它有点像一个运行时的 Lint . 它是对你的线程策略做了一个规定,策略是由两个部分呢组成的</p>
<ul>
<li>检测 : 用来检测某些操作,如网络请求等</li>
<li>处罚 : 当检测到符合条件的行为的时候的响应,如前面的红框,或者记录 log,甚至崩溃.</li>
</ul>
<p>我们也可以使用 Strict mode 来响应一些自定义的条件.比如: 当你要监听自定义的方法的时候,在方法的开始调用 <code>StrictMode.noteSlowCall();</code>  确保你在 UI 线程的策略中启用了 <code>detectCustomSlowCalls</code> . 这时候调用noteSlowCall 将会导致一个异常,然后策略会触发你为该线程设置的 处罚.   如果禁用了  <code>detectCustomSlowCalls</code>  的话 , noteSlowCall 将会是一个空调用.</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">StrictMode.noteSlowCall();</div><div class="line"></div><div class="line">StrictMode.setThreadPolicy(</div><div class="line">          <span class="hljs-keyword">new</span> StrictMode.ThreadPolicy.Builder()</div><div class="line">                  .detectCustomSlowCalls()</div><div class="line">                  .penaltyFlashScreen()</div><div class="line">                  .build());</div></pre></td></tr></table></figure>
<p>这里有一个窍门,无论何时你要获取一个锁的时候调用 noteSlowCall . </p>
<p>这是为什么呢? 锁是一个隐式的阻塞调用.它们通常立马就返回了,快到你甚至没有注意到它们在那.但是当他被别人获取的时候,你的线程将会被阻塞,而且没人知道它什么时候可以恢复运行.锁通常不会知道导致 ANR , 但是如果你在 UI 线程中获取锁的话,马上或者以后你将会出现丢帧的情况.</p>
<p>Strict Mode 同时也有给虚拟机设置策略的 API .这就是 VM 策略. VM 策略给了你一个检测内存泄露的方式.要记得,如果你缺少内存的话那么即使是一个小的分配操作也会导致几百毫秒的停顿.</p>
<h1><span id="resource">Resource</span></h1><p><a href="https://www.youtube.com/watch?v=oGrXdxpWgyY&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=48" target="_blank" rel="external">https://www.youtube.com/watch?v=oGrXdxpWgyY&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=48</a></p>
<h1><span id="about-me">About Me</span></h1><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=true" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="tool-strict-mode">Tool: Strict Mode</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>当你的应用中的事件处理超过了 5 秒钟没有响应的时候,Android 会弹出一个 ANR 弹窗. 这是因为 UI 线程被阻塞了,它在等待某些事情的完成.因为 UI 线程是唯一一个可以处理输入和绘制的线程,当它停止响应的时候,你的 app 也停止了响应. </p>
<p>那么什么会导致 UI 线程像这样停止呢?通常情况下系统调用可以无期限的阻塞它,就像磁盘或者网络获取.这些阻塞调用是你应用中的定时炸弹.在正常情况下,它们运行的非常快,你甚至无法注意到他们.但在某些软件和硬件条件以及一些运气的情况下,他们爆炸了.</p>
<h1><span id="方案">方案</span></h1><p>接下来我们来介绍一下如何找到这些隐藏的问题.这个工具的名字叫 Strict Mode ,你可以在 开发者模式中勾选上 <code>Strict Mode Enabled</code> 来启动它.当它是启动的时候,在你的应用中如果有在 UI 线程中的耗时操作的时候屏幕的边框会变成红色的.</p>
<p>Strict Mode 实际上定义了你在什么线程中可以做什么事,它有点像一个运行时的 Lint . 它是对你的线程策略做了一个规定,策略是由两个部分呢组成的</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/" class="image is-7by1">
            <img class="banner" src="/2020/02/26/S1ep6-Custom-Views-and-Performance/title.jpg" alt="自定义视图及其性能">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/Android-Performance-pattern/">Android Performance pattern</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 1039 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/02/26/S1ep6-Custom-Views-and-Performance/">自定义视图及其性能</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="custom-views-and-performance">Custom Views and Performance</span></h1><p>Android 平台自带了很多标准控件,但是你总会发现有无法满足你的需求的时候,这时候你可以使用自定义控件.自定义控件是很容易的,困难的是怎么让自定义控件的性能表现良好.这里将会介绍一些会导致自定义控件表现变差的原因.</p>
<ul>
<li>在没有改变的时候仍然调用了 onDraw()</li>
<li>耗费时间和资源绘制根本不会再界面上展示的像素.比如被遮挡住的部分</li>
<li>我们还可以在 onDraw 中花很长的时间</li>
</ul>
<p>首先介绍在没有改变的时候仍然执行了绘制流程,要记住,所有的绘制都始于 View.invalidate() . 第一个原则是自定义控件不要调用 invalidate 除非你必须这么做.如果没有东西被改变了,那就不需要重新绘制.第二个原则是传入一个块内容给 invalidate.这会帮助系统决定哪些内容需要被重绘以及什么时候调用 onDraw.如下:</p>
<p><img src="res/view-invalidation.png" alt=""></p>
<p>大致流程是这样的,首先它会判断块内容是否被修改了,如果被修改了,那么就判断这个内容是否在屏幕上,如果在屏幕上,再判断这个内容是否可见,如果可见,才进行重绘.</p>
<p>可见 onDraw 是非常重要的,你的视图是流畅,性能优异的还是差劲的它占了很大的作用.</p>
<p>我们写一个不太理想的 onDraw 是非常容易,其中一个方式就是过度绘制.比如你绘制了一些根本就看不到的内容,这是一个无用功.</p>
<p>那我们如何处理那些看不到的内容呢?我们可以通过设置clip rectangle来达到这个目的.这个裁剪的目的就是使得范围外的内容不会去触碰和绘制,保证他们不会消耗任何东西.调用这个功能的方法是 Canvas.clipRect().当你调用这个方法的时候会保证 GPU 只处理这个方块内的内容.这个效果会持续到下一次调用  Canvas.clipRect().这个在低端的 GPU 上效果明显,但是在高端的 GPU 上的效果就没那么明显了.甚至在一些硬件条件下,可能你花费在 CPU 计算这个裁剪的内容的时间,比你在 GPU 绘制上节省的时间还多.这意味着我们还有一个需要优化的部分就是 CPU 消耗,这个消耗基本上都在 onDraw 上.我们有以下几个建议:</p>
<ol>
<li>不要绘制任何你没必要绘制的东西.可以通过调用 Canvas.quickReject 来定义那些元素并不在屏幕上.如果它返回 true 那么不要绘制这个元素.如果一个元素有一部分仍然在屏幕内容,它依然会返回 false,只有完全不在屏幕上的才会返回 true.</li>
<li>不要使用没有硬件加速的绘制.硬件加速意味着这些操作发生在 GPU 上.如果不是硬件加速的话,它意味着需要 CPU 来处理绘,然后他要把这个结果发送给 GPU 来和剩余的视图部分做组合.对比硬件加速来说,这简直就是让人发指的慢.如果你使用的方法并没有硬件加速,那么考虑是不是有其他的方式来绘制.</li>
<li>不要再 onDraw 方法中分配内存,以及在 onDraw 中调用的方法.分配会消耗两种东西,首先是直接消耗了分配和初始化对象的性能,然后在垃圾回收的时候还有一次消耗.这两种中的每一种都可能会造成丢帧的现象.</li>
</ol>
<p>也许这些建议看起来都很不起眼,但是记住,onDraw 在一秒内会调用 60 次左右.而且不像其他的代码,它必须在 UI 线程上执行.你绘制一次屏幕只有 16 毫秒的时间.</p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="custom-views-and-performance">Custom Views and Performance</span></h1><p>Android 平台自带了很多标准控件,但是你总会发现有无法满足你的需求的时候,这时候你可以使用自定义控件.自定义控件是很容易的,困难的是怎么让自定义控件的性能表现良好.这里将会介绍一些会导致自定义控件表现变差的原因.</p>
<ul>
<li>在没有改变的时候仍然调用了 onDraw()</li>
<li>耗费时间和资源绘制根本不会再界面上展示的像素.比如被遮挡住的部分</li>
<li>我们还可以在 onDraw 中花很长的时间</li>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/" class="image is-7by1">
            <img class="banner" src="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/title.jpg" alt="LeetCode 9. Palindrome Number">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-01-27T16:00:00.000Z">2020-01-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Algorithm/">Algorithm</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Algorithm/LeetCode/">LeetCode</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 minutes read (About 991 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/">LeetCode 9. Palindrome Number</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="9-palindrome-number">9. Palindrome Number</span></h1><p>判断一个整数是不是一个回文。不要使用额外的空间。</p>
<hr>
<p>提示:<br>负整数可以是回文吗？（比如-1）</p>
<p>如果你想要将整数转换成字符串，注意使用额外的空间的限制。</p>
<p>你还可以尝试反转整数。然而，如果你已经解决了”Reverse Integer” 这个问题，那你应该知道反转一个整数可能会造成溢出。你要如何处理这种情况？</p>
<p>这里还有一个更通用的方法来解决这个问题。</p>
<hr>
<h3><span id="string前后比较">String前后比较:</span></h3><p>没有认真审题的做法 ，写完才想起来不能使用额外的空间，尽管如此还是留着吧</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;</div><div class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="hljs-keyword">if</span> (x&lt;<span class="hljs-number">0</span>)&#123;</div><div class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="hljs-comment">//turn int x to the String</span></div><div class="line">        String xs = String.valueOf(x);</div><div class="line"></div><div class="line">        <span class="hljs-comment">//the index of the number left and right</span></div><div class="line">        <span class="hljs-keyword">int</span> indexL = <span class="hljs-number">0</span>;</div><div class="line">        <span class="hljs-keyword">int</span> indexR = xs.length()-<span class="hljs-number">1</span>;</div><div class="line"></div><div class="line">        <span class="hljs-comment">//continue to campare the number if the index of left didn't meet the index of right</span></div><div class="line">        <span class="hljs-keyword">while</span> (indexL&lt;indexR)&#123;</div><div class="line">            <span class="hljs-keyword">if</span> (xs.charAt(indexL)!=xs.charAt(indexR))&#123;</div><div class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line">            &#125;<span class="hljs-keyword">else</span>&#123;</div><div class="line">                indexL ++;</div><div class="line">                indexR --;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/9.%20Palindrome%20Number/Images/RevertNumber1Result.png?raw=true" alt="效率"></p>
<p><strong>分析</strong><br>首先将 int x 转换成 String ，再将这个 String 的首尾对应的位置的值进行比较。</p>
<p>时间复杂度 ： O(n) 。n是x的位数<br>空间复杂度 ： O(1) .</p>
<h3><span id="方法一-反转数字">方法一 反转数字:</span></h3><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span>||(x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="hljs-comment">//use to calculate the number we used to revert the number ,and the biggest digit</span></div><div class="line">    <span class="hljs-keyword">int</span> temp = x;</div><div class="line">    <span class="hljs-comment">//the number reverted</span></div><div class="line">    <span class="hljs-keyword">int</span> revertedNumber = <span class="hljs-number">0</span>;</div><div class="line"></div><div class="line">    <span class="hljs-keyword">while</span> (temp &gt;= <span class="hljs-number">10</span>)&#123;</div><div class="line">        revertedNumber *=<span class="hljs-number">10</span>;</div><div class="line">        revertedNumber += temp%<span class="hljs-number">10</span>;</div><div class="line">        temp /=<span class="hljs-number">10</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-comment">//compare the revertedNumber and x/10,and the temp and x%10.because the case of overflows</span></div><div class="line">    <span class="hljs-keyword">return</span> revertedNumber == x / <span class="hljs-number">10</span> &amp;&amp; temp == x % <span class="hljs-number">10</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/9.%20Palindrome%20Number/Images/RevertNumber1Result.png?raw=true" alt="效率"></p>
<p><strong>分析</strong><br>因为有可能会发生溢出，所以反转除了最大位以外的x，然后将反转的数字和去除最小一位的x 进行比较，将第一位和最后一位单独再进行比较。</p>
<p>时间复杂度 ： O($log{_10}n$)<br>空间复杂度 ： O(1) .</p>
<h3><span id="方法二-反转一半的数字-revert-half-of-the-number">方法二 反转一半的数字 Revert half of the number:</span></h3><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;</div><div class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="hljs-comment">// Special cases:</span></div><div class="line">        <span class="hljs-comment">// As discussed above, when x &lt; 0, x is not a palindrome.</span></div><div class="line">        <span class="hljs-comment">// Also if the last digit of the number is 0, in order to be a palindrome,</span></div><div class="line">        <span class="hljs-comment">// the first digit of the number also needs to be 0.</span></div><div class="line">        <span class="hljs-comment">// Only 0 satisfy this property.</span></div><div class="line">        <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span> || (x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)) &#123;</div><div class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="hljs-keyword">int</span> revertedNumber = <span class="hljs-number">0</span>;</div><div class="line">        <span class="hljs-keyword">while</span>(x &gt; revertedNumber) &#123;</div><div class="line">            revertedNumber = revertedNumber * <span class="hljs-number">10</span> + x % <span class="hljs-number">10</span>;</div><div class="line">            x /= <span class="hljs-number">10</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="hljs-comment">// When the length is an odd number, we can get rid of the middle digit by revertedNumber/10</span></div><div class="line">        <span class="hljs-comment">// For example when the input is 12321, at the end of the while loop we get x = 12, revertedNumber = 123,</span></div><div class="line">        <span class="hljs-comment">// since the middle digit doesn't matter in palidrome(it will always equal to itself), we can simply get rid of it.</span></div><div class="line">        <span class="hljs-keyword">return</span> x == revertedNumber || x == revertedNumber/<span class="hljs-number">10</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/9.%20Palindrome%20Number/Images/RevertNumberResult.png?raw=true" alt="效率"></p>
<p><strong>分析</strong><br>首先我们需要注意几个特殊情况：一个是负数是不可能是回文的，还有一个是整十的数也不可能是回文，因为首尾不可能都为0。 然后我们开始反转数字，我们可以用 x%10 获得最后一位数，然后更新 x 为 x/10 去掉已经反转了的最后一位数，然后再用 x%10 再得到现在的最后一位数，将已经得到数乘以10 再加上现在得到的这一位数得到反转的数字，重复这个过程直到我们反转了一半以上的数字。如何知道我们反转了一半以上的数字呢？当x不大于反转的数的时候我们就已经反转了一半以上的数字。<br>因为回文有奇数和偶数两种，所以我们都要处理，当回文是奇数的时候反转的数字将会比x 多一位，但是这一位是不需要考虑的，我们只要去掉这一位进行比较就可以了，当回文是偶数的时候，如果反转了一半的数字x 不等于反转的数字那么它不是回文，即使x比反转的数字大，使得他又反转了一次，反转的数字将会比x多两位，即使去掉一位也不会导致错误的判断。</p>
<p>时间复杂度 ： O($log{_10}n$)<br>空间复杂度 ： O(1) .</p>
<p>如果你有更好的办法或者对我这里的描述有其他看法，请联系我。谢谢</p>
<h1><span id="about-me">About Me</span></h1><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=true" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="9-palindrome-number">9. Palindrome Number</span></h1><p>判断一个整数是不是一个回文。不要使用额外的空间。</p>
<hr>
<p>提示:<br>负整数可以是回文吗？（比如-1）</p>
<p>如果你想要将整数转换成字符串，注意使用额外的空间的限制。</p>
<p>你还可以尝试反转整数。然而，如果你已经解决了”Reverse Integer” 这个问题，那你应该知道反转一个整数可能会造成溢出。你要如何处理这种情况？</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-en/" class="image is-7by1">
            <img class="banner" src="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/title.jpg" alt="LeetCode 9. Palindrome Number">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-01-27T16:00:00.000Z">2020-01-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/English/">English</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/English/Algorithm/">Algorithm</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/English/Algorithm/LeetCode/">LeetCode</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 666 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-en/">LeetCode 9. Palindrome Number</a>
            
        </h1>
        <div class="content">
            <!-- <p>[English ver]</p>
<h1><span id="9-palindrome-number">9. Palindrome Number</span></h1><p>Determine whether an integer is a palindrome. Do this without extra space.</p>
<hr>
<p>click to show spoilers.</p>
<p>Some hints:<br>Could negative integers be palindromes? (ie, -1)</p>
<p>If you are thinking of converting the integer to string, note the restriction of using extra space.</p>
<p>You could also try reversing an integer. However, if you have solved the problem “Reverse Integer”, you know that the reversed integer might overflow. How would you handle such case?</p>
<p>There is a more generic way of solving this problem.</p>
<hr>
<h3><span id="approach-1-revert-the-number">Approach 1 Revert the number:</span></h3><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span>||(x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line"></div><div class="line">    <span class="hljs-comment">//use to calculate the number we used to revert the number ,and the biggest digit</span></div><div class="line">    <span class="hljs-keyword">int</span> temp = x;</div><div class="line">    <span class="hljs-comment">//the number reverted</span></div><div class="line">    <span class="hljs-keyword">int</span> revertedNumber = <span class="hljs-number">0</span>;</div><div class="line"></div><div class="line">    <span class="hljs-keyword">while</span> (temp &gt;= <span class="hljs-number">10</span>)&#123;</div><div class="line">        revertedNumber *=<span class="hljs-number">10</span>;</div><div class="line">        revertedNumber += temp%<span class="hljs-number">10</span>;</div><div class="line">        temp /=<span class="hljs-number">10</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-comment">//compare the revertedNumber and x/10,and the temp and x%10.because the case of overflows</span></div><div class="line">    <span class="hljs-keyword">return</span> revertedNumber == x / <span class="hljs-number">10</span> &amp;&amp; temp == x % <span class="hljs-number">10</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/9.%20Palindrome%20Number/Images/RevertNumber1Result.png?raw=true" alt="Efficiency"></p>
<p><strong>Analysis</strong><br>Because of the case overflows ,so revert the whole x except the largest digit , and then compare reverted Number with x which except the smallest digit , at last campare the biggest digit and the smallest digit.</p>
<p>Time complexity ： O($log{_10}n$)<br>Space complexity ： O(1) .</p>
<h3><span id="approach-2-revert-half-of-the-number">Approach 2 Revert half of the number:</span></h3><figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;</div><div class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isPalindrome</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="hljs-comment">// Special cases:</span></div><div class="line">        <span class="hljs-comment">// As discussed above, when x &lt; 0, x is not a palindrome.</span></div><div class="line">        <span class="hljs-comment">// Also if the last digit of the number is 0, in order to be a palindrome,</span></div><div class="line">        <span class="hljs-comment">// the first digit of the number also needs to be 0.</span></div><div class="line">        <span class="hljs-comment">// Only 0 satisfy this property.</span></div><div class="line">        <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span> || (x % <span class="hljs-number">10</span> == <span class="hljs-number">0</span> &amp;&amp; x != <span class="hljs-number">0</span>)) &#123;</div><div class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="hljs-keyword">int</span> revertedNumber = <span class="hljs-number">0</span>;</div><div class="line">        <span class="hljs-keyword">while</span>(x &gt; revertedNumber) &#123;</div><div class="line">            revertedNumber = revertedNumber * <span class="hljs-number">10</span> + x % <span class="hljs-number">10</span>;</div><div class="line">            x /= <span class="hljs-number">10</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="hljs-comment">// When the length is an odd number, we can get rid of the middle digit by revertedNumber/10</span></div><div class="line">        <span class="hljs-comment">// For example when the input is 12321, at the end of the while loop we get x = 12, revertedNumber = 123,</span></div><div class="line">        <span class="hljs-comment">// since the middle digit doesn't matter in palidrome(it will always equal to itself), we can simply get rid of it.</span></div><div class="line">        <span class="hljs-keyword">return</span> x == revertedNumber || x == revertedNumber/<span class="hljs-number">10</span>;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/9.%20Palindrome%20Number/Images/RevertNumberResult.png?raw=true" alt="Efficiency"></p>
<p><strong>Analysis</strong></p>
<p>First of all we should take care of some edge cases. All negative numbers are not palindrome, and number x which x % 10 == 0 &amp;&amp; x != 0 can not be palindrome ,because the number can’t be both 0 in the first digit and last digit. Then we start to convert number , we can use x%10 to get the last digit of x , update x to x/10 ,it remove the last digit ,and then use x%10 to get the last number of x , use the number we have get before to times 10 plus this number. Continuing this process would give us the reverted number with more digits. when the original number is less than the reversed number, it means we’ve processed half of the number digits.</p>
<p>Because palindrome has odd and even ,so we need to deal with both of them.When the palindrome is odd the reverted number will have one more digit ,but this digit we don’t need to consider about ,we only need to remove this digit and compare the rest of it ,when palindrome is even ,if we convert the half of number x ,if they don’t equal to each other it is not a palindrome , even x is bigger than reverted number , which make it revert one more time , the reverted number will hava more two digit to x ,remove one digit will nerver make it palindrome.</p>
<p>Time complexity ：O($log{_10}n$)<br>Space complexity ： O(1) .</p>
<p>If you have any suggestions to make the logic and implementation more better , or you have some advice on my description. Please let me know!Thanks!</p>
<h1><span id="about-me">About Me</span></h1><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=true" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><p>[English ver]</p>
<h1><span id="9-palindrome-number">9. Palindrome Number</span></h1><p>Determine whether an integer is a palindrome. Do this without extra space.</p>
<hr>
<p>click to show spoilers.</p>
<p>Some hints:<br>Could negative integers be palindromes? (ie, -1)</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-en/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/07/04/Navigation/" class="image is-7by1">
            <img class="banner" src="/2019/07/04/Navigation/title.jpg" alt="Navigation 指南">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-03T16:00:00.000Z">2019-07-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 minutes read (About 861 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/04/Navigation/">Navigation 指南</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="navigation-指南">Navigation 指南</span></h1><p>[TOC]</p>
<p>由于官网暂时没有中文版本,所以在这里根据内容抽空做了一些中文的版本.</p>
<p><code>Navigation</code> 是用来管理你的app中内容的跳转,返回等操作.它主要包含了以下三个部分:</p>
<ul>
<li><code>Navigation graph</code> : 一个 xml 资源包含了所有的导航相关的信息. 这些信息包含了你app里所有独立的内容区域,也就是 <code>destinations</code>  .</li>
<li><code>NavHost</code> : 一个空白的容器用来展示你的  <code>Navigation graph</code> 中的 <code>destinations</code> . <code>Navigation</code> 模块中包含了一个默认的实现 <a href="https://developer.android.com/reference/androidx/navigation/fragment/NavHostFragment.html" target="_blank" rel="external"><code>NavHostFragment</code></a> 用来展示 Fragment 的 <code>destinations</code> .</li>
<li><code>NavController</code> :  一个管理 NavHost 中的导航的对象. 会在用户使用app的时候管理 NavHost 中的内容.</li>
</ul>
<p>当在页面内导航的时候,你可以告诉 NavController 你想要通过Navigation graph 中的某个路径或者直接导航到一个destination .这时候 NavController 就会在 NavHost 中展示合适的 destination.</p>
<p>Navigation 模块还提供了其他的好处,比如:</p>
<ul>
<li>处理了 fragment transactions</li>
<li>默认情况下正确的处理了向上和返回动作</li>
<li>为动画和过渡提供了标准化的资源</li>
<li>实现和处理了深链接</li>
<li>内置了 Navigation UI 组件,比如 navigation drawers 和 bottom navigation,可以减少附加的工作</li>
<li><a href="https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args" target="_blank" rel="external">Safe Args</a> - 一个 Gradle 插件当导航并在两个目的地中传递数据的时候提供了类型安全机制</li>
<li>ViewModel 支持 - 你可以将 ViewModel 的作用域设置为 navigation graph 来在不同的 目的地之间共享 UI 相关连的数据</li>
</ul>
<p>并且你还可以使用 Android Studio’s <a href="https://developer.android.com/guide/navigation/navigation-getting-started" target="_blank" rel="external">Navigation Editor</a>  来查看和编辑 navigation graphs.</p>
<p>Next steps</p>
<p>For more documentation and resources related to the Navigation component, see the following.</p>
<p>Getting started</p>
<ul>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-getting-started" target="_blank" rel="external">Get started with the Navigation component</a></li>
</ul>
<p>Further topics</p>
<ul>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-principles" target="_blank" rel="external">Principles of Navigation</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-form-factors" target="_blank" rel="external">Design for different form factors</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-design-graph" target="_blank" rel="external">Design navigation graphs</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-nested-graphs" target="_blank" rel="external">Nested graphs</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-global-action" target="_blank" rel="external">Global actions</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-conditional" target="_blank" rel="external">Conditional navigation</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-pass-data" target="_blank" rel="external">Pass data between destinations</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-deep-link" target="_blank" rel="external">Create a deep link for a destination</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-animate-transitions" target="_blank" rel="external">Animate transitions between destinations</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-ui" target="_blank" rel="external">Update UI components with NavigationUI</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-swipe-view" target="_blank" rel="external">Create swipe views with tabs</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-programmatic" target="_blank" rel="external">Interact programmatically with the Navigation component</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-testing" target="_blank" rel="external">Test navigation</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-add-new" target="_blank" rel="external">Add new destination types</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-custom-back" target="_blank" rel="external">Provide custom back navigation</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-migrate" target="_blank" rel="external">Migrate to the Navigation component</a></li>
</ul>
<p>Additional resources</p>
<p>To learn more about navigation, see the following additional resources.</p>
<p>Samples</p>
<ul>
<li><a href="https://github.com/googlesamples/android-architecture-components/tree/master/BasicSample" target="_blank" rel="external">Android Architecture Components basic sample</a></li>
</ul>
<p>Codelabs</p>
<ul>
<li><a href="https://codelabs.developers.google.com/codelabs/android-navigation/index.html?index=..%2F..%2Findex#0" target="_blank" rel="external">Navigation codelab</a></li>
</ul>
<p>Blog posts</p>
<ul>
<li><a href="https://medium.com/androiddevelopers/livedata-with-snackbar-navigation-and-other-events-the-singleliveevent-case-ac2622673150" target="_blank" rel="external">LiveData with SnackBar, Navigation and other events (the SingleLiveEvent case</a></li>
</ul>
<p>Videos</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=9O1D_Ytk0xg" target="_blank" rel="external">10 Best Practices for Moving to a Single Activity</a></li>
<li><a href="https://www.youtube.com/watch?v=2k8x8V77CrU" target="_blank" rel="external">Single Activity: Why, When, and How (Android Dev Summit ‘18)</a></li>
<li><a href="https://www.youtube.com/watch?v=8GCXtCjtg40" target="_blank" rel="external">Android Jetpack: manage UI navigation with Navigation Controller (Google I/O ‘18)</a></li>
</ul>
<h1><span id="reference">Reference</span></h1><p><a href="https://developer.android.google.cn/guide/navigation" target="_blank" rel="external">https://developer.android.google.cn/guide/navigation</a></p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=false" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="navigation-指南">Navigation 指南</span></h1><p>[TOC]</p>
<p>由于官网暂时没有中文版本,所以在这里根据内容抽空做了一些中文的版本.</p>
<p><code>Navigation</code> 是用来管理你的app中内容的跳转,返回等操作.它主要包含了以下三个部分:</p>
<ul>
<li><code>Navigation graph</code> : 一个 xml 资源包含了所有的导航相关的信息. 这些信息包含了你app里所有独立的内容区域,也就是 <code>destinations</code>  .</li>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2019/07/04/Navigation/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/07/04/Navigation-Getting-Started/" class="image is-7by1">
            <img class="banner" src="/2019/07/04/Navigation-Getting-Started/title.jpg" alt="开始使用 Navigation">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-03T16:00:00.000Z">2019-07-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    25 minutes read (About 3724 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/04/Navigation-Getting-Started/">开始使用 Navigation</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="开始使用-navigation">开始使用 Navigation</span></h1><p>[TOC]</p>
<p>由于官网暂时没有中文版本,所以在这里根据内容抽空做了一些中文的版本.</p>
<h1><span id="开始使用">开始使用</span></h1><h2><span id="依赖引入">依赖引入</span></h2><figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    <span class="hljs-keyword">def</span> nav_version = <span class="hljs-string">"2.1.0-alpha05"</span></div><div class="line"></div><div class="line">    implementation <span class="hljs-string">"androidx.navigation:navigation-fragment:$nav_version"</span> <span class="hljs-comment">// For Kotlin use navigation-fragment-ktx</span></div><div class="line">    implementation <span class="hljs-string">"androidx.navigation:navigation-ui:$nav_version"</span> <span class="hljs-comment">// For Kotlin use navigation-ui-ktx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最新版本清关注官方版本 <a href="https://developer.android.google.cn/jetpack/androidx/releases/navigation#declaring_dependencies" target="_blank" rel="external">https://developer.android.google.cn/jetpack/androidx/releases/navigation#declaring_dependencies</a></p>
<h2><span id="创建一个导航图">创建一个导航图</span></h2><p>Navigation 发生在 app 内目的地之间的跳转.这些目的地通过action 进行连接.</p>
<p>一个导航图是一个包含了你所有目的地和 action 的资源文件.这个图表代表了你所有的导航路径.</p>
<p>下图是一个导航图的示例,</p>
<p><img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-graph_2x-callouts.png" alt=""></p>
<p>图中的 1 是 app 中的不同的内容</p>
<p>2 是导航的路径</p>
<p>通过以下步骤添加导航图</p>
<ol>
<li>在项目窗口中右键 <code>res</code> 文件夹选择 <code>New &gt; Android Resource File</code> </li>
<li>输入文件名</li>
<li>在 <strong>Resource type</strong> 中选择 <strong>Navigation</strong> ,确认.</li>
</ol>
<p>生成的文件会保存在 <code>navigation</code> 文件夹下面.</p>
<h2><span id="navigation-editor">Navigation Editor</span></h2><p>当你添加了导航图的时候,可以使用 <em>Navigation Editor</em> 来进行可视化操作,或者对 xml 文件直接进行修改</p>
<p><img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-editor_2x.png" alt=""></p>
<p>图中序号代表的东西 :</p>
<p>1: <strong>目的地面板</strong>, 列出你的导航所有者和当前导航图中所有的目的地.</p>
<p>2: <strong>图编辑器</strong> , 可以通过下方的 tab 切换成可视化编辑和文本编辑模式.</p>
<p>3: <strong>属性</strong> , 展示当前选择项的属性.</p>
<p>当你使用文本编辑的时候,应该会看到类似以下的结构:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">navigation</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/nav_graph"</span>&gt;</span></div><div class="line"></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">navigation</span>&gt;</span></div></pre></td></tr></table></figure>
<p><navigation> 节点是根节点,当你添加了目的地和 action 的时候它们对应的<destination>和<action>都会以 <navigation> 的子元素的形式展现出来. 如果你使用了嵌套图的时候,它会以子<navigation>的形式展现.</navigation></navigation></action></destination></navigation></p>
<h2><span id="添加一个-navhost-到-activity">添加一个 NavHost 到 activity</span></h2><p>Navigation 模块中的一个核心部分就是  <em>navigation host</em> . navigation host 是一个空的容器,当用户在你的 app 内导航的时候目的地将会在这个容器中进出.</p>
<p>一个 navigation host 必须从 NavHost 中衍生而来.模块中有一个默认的实现,<a href="https://developer.android.google.cn/reference/androidx/navigation/fragment/NavHostFragment.html" target="_blank" rel="external"><code>NavHostFragment</code></a> , 处理了 fragment 目的地的转场.</p>
<blockquote>
<p>注意: Navigation 模块的设计是为了处理一个 Activity 和多个目的地Fragment 的情况,每一个 Activity 都会关联一个导航图并拥有自己的<strong>NavHostFragment</strong> 来响应内容的切换转场.</p>
</blockquote>
<h3><span id="通过-xml-添加一个navhostfragment">通过 xml 添加一个NavHostFragment</span></h3><p>下面的 xml 展示了一个 NavHostFragment 作为主 activity 的一部分的情况:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">android.support.constraint.ConstraintLayout</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">tools:context</span>=<span class="hljs-string">".MainActivity"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">...</span>/&gt;</span></div><div class="line"></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/nav_host_fragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.navigation.fragment.NavHostFragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"0dp"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"0dp"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintLeft_toLeftOf</span>=<span class="hljs-string">"parent"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintRight_toRightOf</span>=<span class="hljs-string">"parent"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintTop_toTopOf</span>=<span class="hljs-string">"parent"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span>=<span class="hljs-string">"parent"</span></span></div><div class="line"><span class="hljs-tag"></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:defaultNavHost</span>=<span class="hljs-string">"true"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:navGraph</span>=<span class="hljs-string">"@navigation/nav_graph"</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.bottomnavigation.BottomNavigationView</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">...</span>/&gt;</span></div><div class="line"></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">android.support.constraint.ConstraintLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注意以下内容:</p>
<ul>
<li><code>android:name</code> 属性包含了你的 <code>NavHost</code> 实现的类名</li>
<li><code>app:navGraph</code> 属性将 NavHostFragment 和一个 导航图进行关联,导航图会显示在这个 NavHostFragment 中用户能到达的所有目的地.</li>
<li><code>app:defaultNavHost=&quot;true&quot;</code> 属性确保你的 NavHostFragment 可以拦截系统的返回事件,要注意只有一个 NavHost 可以作为默认拦截.</li>
</ul>
<p>你也可以通过以下方法来通过布局编辑器来添加一个 NavHostFragment 到 activity 中.</p>
<ul>
<li>打开你的 activity 的 xml 文件,并使用布局编辑器.</li>
<li>在 <strong>Palette</strong> 面板中选择<strong>Containers</strong>目录,或者搜索 “NavHostFragment”</li>
<li>拖动 NavHostFragment 到你的布局中.</li>
<li>在 <strong>Navigation Graphs</strong> 的弹窗中,选择对应的导航图和 NavHostFragment 关联,并点 ok.</li>
</ul>
<h2><span id="添加目的地到导航图">添加目的地到导航图</span></h2><p>你可以在 Fragment 或者 activity 中添加目的地,也可以通过导航编辑器来添加目的地或者占位符以便在后面用 activity 或 Fragment 来替换.</p>
<h3><span id="从现有的-activity-或-fragment-中添加目的地">从现有的 activity 或 Fragment 中添加目的地</span></h3><p>如果你想添加现有的目的地到你的导航图中,点击  <strong>New Destination</strong> <img src="https://developer.android.google.cn/studio/images/buttons/navigation-add.png" alt="img">, 再出现的下拉框中选择你想要添加的目的地.然后你就可以在 <strong>Design</strong> 视图中看到该目的地的预览图.以及对应的xml 数据出现在你的 <strong>Text</strong> 视图中.</p>
<h3><span id="创建一个新的fragment目的地">创建一个新的Fragment目的地</span></h3><p>使用以下步骤创建一个新的 Fragment 目的地:</p>
<ol>
<li>在导航编辑器中点击 <strong>New Destination</strong>图标 <img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-new-destination-icon.png" alt="img">, 然后点击 <strong>Create new destination</strong> .</li>
<li>在 <strong>New Android Component</strong> 弹窗中创建你的 Fragment , </li>
</ol>
<h3><span id="从-dialogfragment-中创建一个目的地">从 DialogFragment 中创建一个目的地</span></h3><p>如果你已经有了 DialogFragment 的话,你可以使用 <code>&lt;dialog&gt;</code> 元素将它添加到导航图中.代码如下:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">navigation</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/nav_graph"</span>&gt;</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"></div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dialog</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/my_dialog_fragment"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"androidx.navigation.myapp.MyDialogFragment"</span>&gt;</span></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">argument</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"myarg"</span> <span class="hljs-attr">android:defaultValue</span>=<span class="hljs-string">"@null"</span> /&gt;</span></div><div class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">action</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/myaction"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">app:destination</span>=<span class="hljs-string">"@+id/another_destination"</span>/&gt;</span></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span></div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">navigation</span>&gt;</span></div></pre></td></tr></table></figure>
<h3><span id="占位目的地">占位目的地</span></h3><p>你可以使用占位符来代表没有实现的目的地,占位符也是目的地的视觉表示.在导航编辑器中可以像使用目的地一样使用占位符.</p>
<blockquote>
<p>注意:在你运行你的 app 之前你必须要将 <em>class</em> 设置成已经存在的目的地.否则会导致运行时异常.</p>
</blockquote>
<h2><span id="解析目的地">解析目的地</span></h2><p>点击任意的目的地,并注意以下属性:</p>
<ul>
<li><strong>Type</strong> : 表明这个目的地是使用  fragment, activity,  还是其他源码中的自定义类实现.</li>
<li><strong>Label</strong> : 目的地的 xml 资源文件名</li>
<li><strong>ID</strong>: 目的地的 ID ,可以用于在代码中引用该目的地</li>
<li><strong>Class</strong> : 下拉窗中展示了所有与该目的地相关联的类.可以选择不同的选项将类与其他目的地类型关联.</li>
</ul>
<p>在 xml 文件中的展示如下:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">navigation</span> <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">app:startDestination</span>=<span class="hljs-string">"@id/blankFragment"</span>&gt;</span></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/blankFragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.cashdog.cashdog.BlankFragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"Blank"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">"@layout/fragment_blank"</span> /&gt;</span></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">navigation</span>&gt;</span></div></pre></td></tr></table></figure>
<h2><span id="设置一个屏幕作为起始目的地">设置一个屏幕作为起始目的地</span></h2><p>起始目的地是用户打开你的app看到的第一个屏幕,并且也是用户退出你的app看到的最后一个页面.导航编辑器使用一个房子图标 <img src="https://developer.android.google.cn/studio/images/buttons/navigation-house.png" alt="img"> 来代表这个起始目的地.</p>
<p>一旦你拥有所有的目的地,你可以通过以下步骤选择一个作为起始目的地:</p>
<ol>
<li>在 <strong>Design</strong> 标签页面下,点击一个目的地使它高亮.</li>
<li>点击  <strong>Assign start destination</strong> 按钮   <img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-start-destination-icon.png" alt="img"> .或者,右键目的地并点击 <strong>Set as Start Destination</strong>.</li>
</ol>
<h2><span id="连接目的地">连接目的地</span></h2><p>action 是目的地之间的一个逻辑连接.action 在导航图里用箭头表示.action 通常将一个目的地连接到另一个,尽管你也可以创建一个  <a href="https://developer.android.google.cn/guide/navigation/navigation-global-action" target="_blank" rel="external">global actions</a> 来把你引导到你的app中的任意一个目的地.</p>
<p>通过action ,你可以用不同的路径来代表用户可以如何在你的app中导航.要注意,要实际导航到某个目的地的时候,你仍然需要编写代码来实现这个导航.这在 <a href="https://developer.android.google.cn/guide/navigation/navigation-getting-started#navigate" target="_blank" rel="external">Navigate to a destination</a> 中会有介绍.</p>
<p>你可以通过以下步骤使用导航编辑器来连接两个目的地:</p>
<ol>
<li><p>在 <strong>Design</strong> 标签下,高亮你要作为起点的目的地.它的右侧会出现一个圆圈 <br> <img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-actioncircle_2x.png" alt="img"></p>
</li>
<li><p>点击这个圆圈并拖动鼠标指针到你想要作为终点的目的地,然后释放鼠标.两个目的地之间会出现一条线来代表这个action <br> <img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-connected_2x.png" alt="img"></p>
</li>
<li><p>点击箭头来高亮这个 action . <strong>Attributes</strong> 面板中显示了下面的属性:</p>
<ul>
<li><strong>Type</strong> : Action 的类型 </li>
<li><strong>ID</strong> : action的ID</li>
<li><strong>Destination</strong> : 包含了目的地fragment 或者 activity 的 ID</li>
</ul>
</li>
<li><p>点击  <strong>Text</strong> 标签来切换到 XML 视图. 一个 action 元素会被添加到源目的地中.这个action拥有一个 ID 和一个目的地属性包含了下一个目的地的ID 如下所示: <br> </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">navigation</span> <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">"http://schemas.android.com/tools"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">app:startDestination</span>=<span class="hljs-string">"@id/blankFragment"</span>&gt;</span></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/blankFragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.cashdog.cashdog.BlankFragment"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"fragment_blank"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">"@layout/fragment_blank"</span> &gt;</span></div><div class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">action</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/action_blankFragment_to_blankFragment2"</span></span></div><div class="line"><span class="hljs-tag">            <span class="hljs-attr">app:destination</span>=<span class="hljs-string">"@id/blankFragment2"</span> /&gt;</span></div><div class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">fragment</span>&gt;</span></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/blankFragment2"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.cashdog.cashdog.BlankFragment2"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"fragment_blank_fragment2"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">"@layout/fragment_blank_fragment2"</span> /&gt;</span></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">navigation</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>在你的导航图里,action是使用 <code>&lt;action&gt;</code> 元素代表的. 一个 action 里至少要包含它自己的ID 和用户要导航到的目的地的ID .</p>
<h2><span id="导航到目的地">导航到目的地</span></h2><p>可以使用 <a href="https://developer.android.google.cn/reference/androidx/navigation/NavController" target="_blank" rel="external"><code>NavController</code></a> 导航到一个目的地,它是一个通过 NavHost 来管理app导航的对象.每一个 NavHost 都有一个它对应的 NavController . NavController 提供一些不同的方式来导航到一个目的地,在下面的章节中将会详细介绍.</p>
<p>使用以下方法之一来从 fragment ,activity,或者view 中获取一个 NavController :</p>
<p><strong>Kotlin:</strong></p>
<ul>
<li><a href="https://developer.android.google.cn/reference/kotlin/androidx/navigation/fragment/package-summary#findnavcontroller" target="_blank" rel="external"><code>Fragment.findNavController()</code></a></li>
<li><a href="https://developer.android.google.cn/reference/kotlin/androidx/navigation/package-summary#(android.view.View" target="_blank" rel="external"><code>View.findNavController()</code></a>.findNavController())</li>
<li><a href="https://developer.android.google.cn/reference/kotlin/androidx/navigation/package-summary#findnavcontroller" target="_blank" rel="external"><code>Activity.findNavController(viewId: Int)</code></a></li>
</ul>
<p><strong>Java:</strong></p>
<ul>
<li><a href="https://developer.android.google.cn/reference/androidx/navigation/fragment/NavHostFragment.html#findNavController(android.support.v4.app.Fragment" target="_blank" rel="external"><code>NavHostFragment.findNavController(Fragment)</code></a>)</li>
<li><a href="https://developer.android.google.cn/reference/androidx/navigation/Navigation.html#findNavController(android.app.Activity, int" target="_blank" rel="external"><code>Navigation.findNavController(Activity, @IdRes int viewId)</code></a>)</li>
<li><a href="https://developer.android.google.cn/reference/androidx/navigation/Navigation.html#findNavController(android.view.View" target="_blank" rel="external"><code>Navigation.findNavController(View)</code></a>)</li>
</ul>
<h3><span id="使用-id-导航">使用 ID 导航</span></h3><p><a href="https://developer.android.google.cn/reference/androidx/navigation/NavController.html#navigate(int" target="_blank" rel="external"><code>navigate(int)</code></a>) 使用 action 或者目的地的资源 ID来导航. 下面的例子展示了如何导航到 ViewTransactionsFragment .</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">viewTransactionsButton.setOnClickListener &#123; view -&gt;</div><div class="line">   view.findNavController().navigate(R.id.viewTransactionsAction)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">viewTransactionsButton.setOnClickListener(<span class="hljs-keyword">new</span> View.OnClickListener() &#123;</div><div class="line">    <span class="hljs-meta">@Override</span></div><div class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View view)</span> </span>&#123;</div><div class="line">        Navigation.findNavController(view).navigate(R.id.viewTransactionsAction);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>注意: 当你使用 ID 来导航的时候,我们强烈推荐你尽可能使用 action. action 在你的导航图里提供了额外的可视信息,它展示了你的目的地是如何和其它目的地连接起来的.通过创建 action ,你可以使用  <a href="https://developer.android.google.cn/guide/navigation/navigation-pass-data#Safe-args" target="_blank" rel="external">Safe Args-generated operations</a> 来替换资源ID ,提供额外的编译时安全性.通过使用 action 你也可以在目的地之间使用转场动画.详细可以查看  <a href="https://developer.android.google.cn/guide/navigation/navigation-animate-transitions" target="_blank" rel="external">Animate transitions between destinations</a>.</p>
</blockquote>
<p>对于按钮,你也可以使用 <a href="https://developer.android.google.cn/reference/androidx/navigation/Navigation.html" target="_blank" rel="external"><code>Navigation</code></a> 类的 <a href="https://developer.android.google.cn/reference/androidx/navigation/Navigation.html#createNavigateOnClickListener(int" target="_blank" rel="external"><code>createNavigateOnClickListener()</code></a>) 方法来便捷的导航到一个目的地,如下面的例子所示:</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.next_fragment, <span class="hljs-literal">null</span>))</div></pre></td></tr></table></figure>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.next_fragment, <span class="hljs-keyword">null</span>));</div></pre></td></tr></table></figure>
<p>为了处理其它的共用 UI 模块,比如顶部的 top app bar 和 bottom navigation , 详见  <a href="https://developer.android.google.cn/guide/navigation/navigation-ui" target="_blank" rel="external">Update UI components with NavigationUI</a>.</p>
<h3><span id="通过-uri-进行导航">通过 URI 进行导航</span></h3><p>你可以通过使用 <a href="https://developer.android.google.cn/reference/androidx/navigation/NavController#navigate(android.net.Uri" target="_blank" rel="external"><code>navigate(Uri)</code></a>) 来直接导航到一个  <a href="https://developer.android.google.cn/guide/navigation/navigation-deep-link#implicit" target="_blank" rel="external">implicit deep link destination</a>, 如下:</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">val</span> navController = findNavController()</div><div class="line"><span class="hljs-keyword">val</span> deeplink = Uri.parse(<span class="hljs-string">"android-app://androidx.navigation.app/profile"</span>)</div><div class="line">findNavController().navigate(deeplink)</div></pre></td></tr></table></figure>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Uri deeplink = Uri.parse(<span class="hljs-string">"android-app://androidx.navigation.app/profile"</span>);</div><div class="line">view.findNavController().navigate(deeplink);</div></pre></td></tr></table></figure>
<p>和使用 action 或者 目的地ID 不同,你可以导航到你的导航图中的任意一个 URI ,无论目的地是否在当前导航图中可见.你可以导航到当前导航图或者一个不同的导航图中的目的地.</p>
<p>当使用 URI 进行导航的时候,回退栈不会被重置.与其他的 <a href="https://developer.android.google.cn/guide/navigation/navigation-deep-link" target="_blank" rel="external">deep link navigation</a> 不同,</p>
<p>When navigating using URI, the back stack is <em>not</em> reset. This is unlike other <a href="https://developer.android.google.cn/guide/navigation/navigation-deep-link" target="_blank" rel="external">deep link navigation</a>, where the back stack is replaced when navigating. <code>popUpTo</code> and <code>popUpToInclusive</code>, however, still remove destinations from the back stack just as though you had navigated using an ID.</p>
<h3><span id="导航还有回退栈">导航还有回退栈</span></h3><p>Android 维护了一个 <a href="https://developer.android.google.cn/guide/components/activities/tasks-and-back-stack" target="_blank" rel="external">back stack</a>  包含了你访问的目的地.你app 的第一个 目的地在用户打开 app 的时候就会放进栈中. 每一次调用 <a href="https://developer.android.google.cn/reference/androidx/navigation/NavController.html#navigate(int" target="_blank" rel="external"><code>navigate()</code></a>) 方法会把另一个目的地放到栈顶. 当调用  <a href="https://developer.android.google.cn/reference/androidx/navigation/NavController.html#navigateUp(" target="_blank" rel="external"><code>NavController.navigateUp()</code></a>) 和 <a href="https://developer.android.google.cn/reference/androidx/navigation/NavController.html#popBackStack(" target="_blank" rel="external"><code>NavController.popBackStack()</code></a>) 来进行向上或向后的操作的时候,会移除栈顶的目的地.</p>
<h3><span id="popupto-和-popuptoinclusive">popUpTo 和 popUpToInclusive</span></h3><p>当你使用 action 来进行导航的时候,你可以选择从后退栈中弹出额外的目的地.举个例子,如果你的应用有一个登录流程,一旦用户登录了,你应该从回退栈中弹出所有登录相关的目的地,这样可以保证用户回退的时候不会又回到登录流程中.</p>
<p>为了在一个目的地导航到另一个目的地的时候弹出目的地,可以添加一个 <code>app:popUpTo</code> 属性到关联的 <code>&lt;action&gt;</code> 元素中. <code>app:popUpTo</code> 这个属性告诉 Navigation 在调用 <code>navigate()</code> 的时候从回退栈中弹出一些目的地.这个属性的值是 要在回退中保留的顶层目的地的ID .</p>
<p>你也可以使用 <code>app:popUpToInclusive=&quot;true&quot;</code> 来声明这个 <code>app:popUpTo</code> 弹出操作包含了这个属性声明的ID 对象.</p>
<p><strong>popUpTo 示例:循环逻辑</strong></p>
<p>我们假设你的app拥有3个目的地—A,B,C.还有从 A 到 B ,B 到 C ,以及 C 回到A 的action.对应的导航图如下:</p>
<p><img src="https://developer.android.google.cn/images/topic/libraries/architecture/navigation-getting-started-pop.png" alt="img"></p>
<p>当你每一次调用导航action的时候,都会往回退栈中添加一个目的地.如果你按照这个流程重复导航的花,你的回退栈中将会包含很多这个重复的集合目的地(A,B,C,A,B,C,A….) . 要避免这种重复的话,可以在从C 到A 的action中指定 <code>app:popUpTo</code> 还有 <code>app:popUpToInclusive</code> 属性,如下:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/c"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.example.myapplication.C"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"fragment_c"</span></span></div><div class="line"><span class="hljs-tag">    <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">"@layout/fragment_c"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">action</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/action_c_to_a"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:destination</span>=<span class="hljs-string">"@id/a"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:popUpTo</span>=<span class="hljs-string">"@+id/a"</span></span></div><div class="line"><span class="hljs-tag">        <span class="hljs-attr">app:popUpToInclusive</span>=<span class="hljs-string">"true"</span>/&gt;</span></div><div class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">fragment</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在到达了目的地 C 之后,回退栈中包含了目的地 A,B,C 的实例.当导航回目的地 A 的时候,我们同时 <code>popUpTo</code> A ,这意味着我们在导航的时候从回退栈中删除了 B,C. 伴随着 <code>app:popUpToInclusive=&quot;true&quot;</code> 我们同时弹出了回退栈中的第一个 A.要注意如果你没有使用 <code>app:popUpToInclusive=&quot;true&quot;</code> 这个属性的话,你的回退栈中将会包含两个A 的实例.</p>
<p>More information</p>
<ul>
<li><a href="https://developer.android.google.cn/guide/navigation" target="_blank" rel="external">Navigation overview</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-ui" target="_blank" rel="external">Update UI components with NavigationUI</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-pass-data" target="_blank" rel="external">Pass data between destinations</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-global-action" target="_blank" rel="external">Global actions</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-conditional" target="_blank" rel="external">Conditional destinations</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-add-new" target="_blank" rel="external">Custom destination types</a></li>
<li><a href="https://www.youtube.com/watch?v=8GCXtCjtg40" target="_blank" rel="external">Android Jetpack: manage UI navigation with Navigation Controller (Google I/O 2018)</a></li>
<li><a href="https://developer.android.google.cn/guide/navigation/navigation-migrate" target="_blank" rel="external">Migrate an existing project to the Navigation Architecture Component</a></li>
<li><a href="https://codelabs.developers.google.com/codelabs/android-navigation/index.html?index=..%2F..%2Findex#0" target="_blank" rel="external">Navigation Codelab</a></li>
</ul>
<p>If you encounter any issues with Navigation, please submit feedback via one of the following channels:</p>
<ul>
<li><a href="https://issuetracker.google.com/issues/new?component=404706" target="_blank" rel="external">File a Navigation editor bug</a></li>
<li><a href="https://issuetracker.google.com/issues/new?component=409828" target="_blank" rel="external">File a Navigation library bug</a></li>
<li><a href="https://stackoverflow.com/tags/android-navigation-component" target="_blank" rel="external">Tag an issue on StackOverflow</a></li>
</ul>
<p>For information on how to provide the most helpful information in bug reports, see the following links:</p>
<ul>
<li><a href="https://source.android.google.cn/setup/contribute/report-bugs" target="_blank" rel="external">Reporting Bugs (Android platform)</a></li>
<li><a href="https://developer.android.google.cn/studio/report-bugs" target="_blank" rel="external">Report a bug (Android Studio)</a></li>
</ul>
<p># </p>
<h1><span id="refernce">Refernce</span></h1><p><a href="https://developer.android.google.cn/guide/navigation/navigation-getting-started" target="_blank" rel="external">https://developer.android.google.cn/guide/navigation/navigation-getting-started</a></p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=false" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="开始使用-navigation">开始使用 Navigation</span></h1><p>[TOC]</p>
<p>由于官网暂时没有中文版本,所以在这里根据内容抽空做了一些中文的版本.</p>
<h1><span id="开始使用">开始使用</span></h1><h2><span id="依赖引入">依赖引入</span></h2><figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    <span class="hljs-keyword">def</span> nav_version = <span class="hljs-string">"2.1.0-alpha05"</span></div><div class="line"></div><div class="line">    implementation <span class="hljs-string">"androidx.navigation:navigation-fragment:$nav_version"</span> <span class="hljs-comment">// For Kotlin use navigation-fragment-ktx</span></div><div class="line">    implementation <span class="hljs-string">"androidx.navigation:navigation-ui:$nav_version"</span> <span class="hljs-comment">// For Kotlin use navigation-ui-ktx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最新版本清关注官方版本 <a href="https://developer.android.google.cn/jetpack/androidx/releases/navigation#declaring_dependencies" target="_blank" rel="external">https://developer.android.google.cn/jetpack/androidx/releases/navigation#declaring_dependencies</a></p>
<h2><span id="创建一个导航图">创建一个导航图</span></h2><p>Navigation 发生在 app 内目的地之间的跳转.这些目的地通过action 进行连接.</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2019/07/04/Navigation-Getting-Started/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/06/17/S1ep2-Using-Lint-for-Performance-Tips/" class="image is-7by1">
            <img class="banner" src="/2019/06/17/S1ep2-Using-Lint-for-Performance-Tips/title.jpg" alt="使用 Lint 来获取性能贴士">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-06-16T16:00:00.000Z">2019-06-17</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/Android-Performance-pattern/">Android Performance pattern</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 203 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/06/17/S1ep2-Using-Lint-for-Performance-Tips/">使用 Lint 来获取性能贴士</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="使用-lint-来获取性能贴士">使用 Lint 来获取性能贴士</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>当我们在编写 Android 代码的时候如何能够快速优化我们的代码呢?</p>
<p>Android 为我们提供了一个 Lint 的工具,它可以静态检验出我们代码里的很多问题.风格,内存泄露,过度绘制等等…</p>
<h1><span id="使用方法">使用方法</span></h1><p>在 Android studio 的菜单中选择 <code>Analyse</code> -&gt; <code>Inspect Code</code> 就可以进入检查页面了.</p>
<p>他还可以在设置里的 <code>Editor</code> -&gt; <code>Inspections</code> 中设置提示的等级,以及自定义检查项,可以说是非常好用的功能了.</p>
<h1><span id="resource">Resource</span></h1><p><a href="https://www.youtube.com/watch?v=Z_huaXCsYyw&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=45" target="_blank" rel="external">https://www.youtube.com/watch?v=Z_huaXCsYyw&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=45</a></p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=false" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="使用-lint-来获取性能贴士">使用 Lint 来获取性能贴士</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>当我们在编写 Android 代码的时候如何能够快速优化我们的代码呢?</p>
<p>Android 为我们提供了一个 Lint 的工具,它可以静态检验出我们代码里的很多问题.风格,内存泄露,过度绘制等等…</p>
<h1><span id="使用方法">使用方法</span></h1><p>在 Android studio 的菜单中选择 <code>Analyse</code> -&gt; <code>Inspect Code</code> 就可以进入检查页面了.</p>
<p>他还可以在设置里的 <code>Editor</code> -&gt; <code>Inspections</code> 中设置提示的等级,以及自定义检查项,可以说是非常好用的功能了.</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2019/06/17/S1ep2-Using-Lint-for-Performance-Tips/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-image">
        <a href="/2019/05/28/Automatic-Version-Code-Release/" class="image is-7by1">
            <img class="banner" src="/2019/05/28/Automatic-Version-Code-Release/title.jpg" alt="自动版本号发布">
        </a>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-05-27T16:00:00.000Z">2019-05-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Chinese/Android/版本管理/">版本管理</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 minutes read (About 1487 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/05/28/Automatic-Version-Code-Release/">自动版本号发布</a>
            
        </h1>
        <div class="content">
            <!-- <h1><span id="自动版本号发布">自动版本号发布</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>由于手动升级版本号等操作容易被遗忘和操作错误,,所以要找到一个可以自动管理版本号的方式.</p>
<h1><span id="内容">内容</span></h1><p>版本控制主要有这么两个属性：</p>
<ul>
<li><p><code>android:versionCode</code> ： 整数，是内部版本号，用于判断一个版本是否比另一个版本新，用户并不需要看到。通常是跟随着发布版本增加该code。如果安装的app 的 versionCode 比当前该 app 的 versionCode 小的话会导致安装失败,提示无法降级安装.</p>
</li>
<li><p><code>android:versionName</code> : 字符串，用户能看到的版本号。如 <code>1.0.0</code> .系统不关心这个值.</p>
</li>
</ul>
<h1><span id="方案">方案</span></h1><h2><span id="方案1-使用-git-提交记录来生成">方案1 使用 Git 提交记录来生成</span></h2><h3><span id="自动化版本号代码">自动化版本号代码</span></h3><p>用 Git 的话,我们可以使用 Git 中的 commit 数量作为 versionCode . 如下 :</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// 获取当前分支的 commit 数量.</span></div><div class="line"><span class="hljs-keyword">def</span> cmdVersionCode = <span class="hljs-string">'git rev-list HEAD --count'</span></div><div class="line"><span class="hljs-keyword">def</span> versionCodeValue = cmdVersionCode.execute().text.trim().toInteger()</div><div class="line"></div><div class="line">android &#123;  </div><div class="line">  defaultConfig &#123;</div><div class="line">    versionCode versionCodeValue</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个方案要求开发者要及时提交代码,否则会出现版本号不增加的情况,不利于维护.</p>
<p>有些开发者会担心一次版本发布中会有很多次 commit 的情况.首先这个 versionCode 的类型是 int 类型的,最大值是 <code>2^31-1</code> , 大约可以达到 21亿. </p>
<h3><span id="自动化版本名">自动化版本名</span></h3><p>使用该方法的话需要在 Git 中标记 <code>tag</code> , tag 就是版本名.这样也有利于后期追溯版本.</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// 获取当前 commit 到距离他最近的 tag 描述.</span></div><div class="line"><span class="hljs-keyword">def</span> cmdVersionName = <span class="hljs-string">'git describe --tags'</span></div><div class="line"><span class="hljs-keyword">def</span> versionNameValue  = cmdVersionName.execute().text.trim()</div><div class="line"></div><div class="line">android &#123;  </div><div class="line">  defaultConfig &#123;</div><div class="line">    versionName versionNameValue</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个时候版本名的后面可能会带上 <code>g.....</code> 的一串字符串,我们可以针对这个情况做一个修改,让版本名更加通俗易懂.</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// 获取tag 后面跟上的 距离上个 tag 提交次数,以及提交码.</span></div><div class="line"><span class="hljs-keyword">def</span> pattern = <span class="hljs-string">"-(\\d+)-g"</span></div><div class="line"><span class="hljs-keyword">def</span> matcher = versionNameValue =~ pattern</div><div class="line"></div><div class="line"><span class="hljs-keyword">if</span> (matcher) &#123;</div><div class="line">    <span class="hljs-comment">// 将距离上个 tag 的提交次数变为版本名.</span></div><div class="line"></div><div class="line">    <span class="hljs-comment">// 以多少为基数.</span></div><div class="line">    <span class="hljs-keyword">def</span> baseNum = <span class="hljs-number">20</span></div><div class="line">    <span class="hljs-keyword">def</span> thirdNum = matcher[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].toInteger().intdiv(baseNum)</div><div class="line">    <span class="hljs-keyword">def</span> fourthNum = matcher[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].toInteger() % baseNum</div><div class="line"></div><div class="line">    versionNameValue = versionNameValue.substring(<span class="hljs-number">0</span>, matcher.start()) + <span class="hljs-string">"."</span> + thirdNum + <span class="hljs-string">"."</span>+fourthNum</div><div class="line"><span class="hljs-comment">// 直接以距离上个 tag 的提交次数为第三个版本号.</span></div><div class="line"><span class="hljs-comment">//    versionNameValue = versionNameValue.substring(0, matcher.start()) + "." + matcher[0][1]</span></div><div class="line">&#125; <span class="hljs-keyword">else</span> &#123;</div><div class="line">    versionNameValue = versionNameValue + <span class="hljs-string">".0"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>由于直接把距离上个tag 的提交次数作为版本号会导致版本号增长过快,所以将他拆分为两部分.上面的例子以20为基数,比如此时距离上个提交次数为 32 , 上一个版本为 v1.0 , 那么生成的版本名就是 v1.0.1.12 ,而不是 1.0.32</p>
<p>还要注意一点,这样写的画每次调试的debug版本也会生成不同的版本名,可能会导致有接入线上统计的版本出现繁杂冗余的情况.所以可以加上一个判断版本的方式,如下:</p>
<p>现在项目的总 build.gradle 文件中添加</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-comment">// 通过taskName判断当前操作是否是在打release包</span></div><div class="line"><span class="hljs-keyword">def</span> checkRelease() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> runTasks = gradle.startParameter.taskNames</div><div class="line">    <span class="hljs-keyword">for</span> (String <span class="hljs-string">task :</span> runTasks) &#123;</div><div class="line">        <span class="hljs-comment">// 执行“assemble”并且非“debug”的任务就是执行“release”的任务</span></div><div class="line">        <span class="hljs-keyword">if</span> (task.contains(<span class="hljs-string">"assemble"</span>) &amp;&amp; !task.contains(<span class="hljs-string">"Debug"</span>)) &#123;</div><div class="line">			<span class="hljs-comment">// targetTask = task</span></div><div class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">ext &#123;</div><div class="line">    <span class="hljs-comment">// 定义当前gradle文件的全局变量, 是否是release版本</span></div><div class="line">    isRelease = checkRelease()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后在 module 的 build.gradle 中修改之前的方法为</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">if</span> (matcher) &#123;</div><div class="line">    <span class="hljs-keyword">if</span> (isRelease) &#123;</div><div class="line">        <span class="hljs-comment">// 将距离上个 tag 的提交次数变为版本名.</span></div><div class="line"></div><div class="line">        <span class="hljs-comment">// 以多少为基数.</span></div><div class="line">        <span class="hljs-keyword">def</span> baseNum = <span class="hljs-number">20</span></div><div class="line">        <span class="hljs-keyword">def</span> thirdNum = matcher[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].toInteger().intdiv(baseNum)</div><div class="line">        <span class="hljs-keyword">def</span> fourthNum = matcher[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>].toInteger().mod(baseNum)</div><div class="line">        versionNameValue = versionNameValue.substring(<span class="hljs-number">0</span>, matcher.start()) + <span class="hljs-string">"."</span> + thirdNum + <span class="hljs-string">"."</span> + fourthNum</div><div class="line">    &#125;<span class="hljs-keyword">else</span> &#123;</div><div class="line">        versionNameValue = <span class="hljs-string">"0.0.0"</span></div><div class="line">    &#125;</div><div class="line">&#125; <span class="hljs-keyword">else</span> &#123;</div><div class="line">    versionNameValue = versionNameValue + <span class="hljs-string">".0"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样debug 的时候版本名称就都是0.0.0了.</p>
<h2><span id="方案2-使用配置文件叠加">方案2 使用配置文件叠加</span></h2><p>该方法的思路是利用 property 文件进行保存版本号等信息,然后在每次生成 release 的时候进行叠加.</p>
<p>以下是 <code>autoversion.gradle</code> 文件. 在你的 module 的 gradle 文件中引入该文件就可以了.</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">apply <span class="hljs-string">from:</span> <span class="hljs-string">"util.gradle"</span></div><div class="line"></div><div class="line">ext &#123;</div><div class="line">    versionFile = <span class="hljs-keyword">new</span> File(project.rootDir, <span class="hljs-string">'version.properties'</span>)</div><div class="line">    calculateVersionName = &#123;</div><div class="line">        <span class="hljs-keyword">if</span> (checkRelease()) &#123;</div><div class="line">            incrementVersionNumber()</div><div class="line">        &#125;</div><div class="line">        <span class="hljs-keyword">def</span> version = readVersion()</div><div class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"$&#123;version['major']&#125;.$&#123;version['minor']&#125;.$&#123;version['build']&#125;"</span></div><div class="line">    &#125;</div><div class="line">    calculateVersionCode = &#123;</div><div class="line">        <span class="hljs-keyword">def</span> version = readVersion()</div><div class="line">        <span class="hljs-keyword">def</span> major = version[<span class="hljs-string">'major'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span> <span class="hljs-comment">// 1..∞</span></div><div class="line">        <span class="hljs-keyword">def</span> minor = version[<span class="hljs-string">'minor'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span> <span class="hljs-comment">// 0..99</span></div><div class="line">        <span class="hljs-keyword">def</span> build = version[<span class="hljs-string">'build'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span> <span class="hljs-comment">// 0..999</span></div><div class="line">        <span class="hljs-keyword">return</span> (major * <span class="hljs-number">100</span> + minor) * <span class="hljs-number">1000</span> + build</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Properties readVersion() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> version = <span class="hljs-keyword">new</span> Properties()</div><div class="line">    <span class="hljs-keyword">def</span> stream</div><div class="line">    <span class="hljs-keyword">try</span> &#123;</div><div class="line">        stream = <span class="hljs-keyword">new</span> FileInputStream(versionFile)</div><div class="line">        version.load(stream)</div><div class="line"></div><div class="line">    &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException ignore) &#123;</div><div class="line">    &#125; <span class="hljs-keyword">finally</span> &#123;</div><div class="line">        <span class="hljs-keyword">if</span> (stream != <span class="hljs-literal">null</span>) stream.close()</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-comment">// safety defaults in case file is missing</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'major'</span>]) version[<span class="hljs-string">'major'</span>] = <span class="hljs-string">"1"</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'minor'</span>]) version[<span class="hljs-string">'minor'</span>] = <span class="hljs-string">"0"</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'build'</span>]) version[<span class="hljs-string">'build'</span>] = <span class="hljs-string">"0"</span></div><div class="line">    <span class="hljs-keyword">return</span> version</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-keyword">void</span> incrementVersionNumber() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> version = readVersion()</div><div class="line"></div><div class="line">    <span class="hljs-comment">// careful with the types, culprits: "9"++ = ":", "9" + 1 = "91"</span></div><div class="line">    <span class="hljs-keyword">def</span> build = version[<span class="hljs-string">'build'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span></div><div class="line">    build++</div><div class="line">    version[<span class="hljs-string">'build'</span>] = build.toString()</div><div class="line"></div><div class="line">    <span class="hljs-keyword">def</span> stream = <span class="hljs-keyword">new</span> FileOutputStream(versionFile)</div><div class="line">    <span class="hljs-keyword">try</span> &#123;</div><div class="line">        version.store(stream, <span class="hljs-literal">null</span>)</div><div class="line">    &#125; <span class="hljs-keyword">finally</span> &#123;</div><div class="line">        stream.close()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-keyword">if</span> (plugins.hasPlugin(<span class="hljs-string">'android'</span>) || plugins.hasPlugin(<span class="hljs-string">'android-library'</span>)) &#123;</div><div class="line">    android &#123;</div><div class="line">        defaultConfig &#123;</div><div class="line">            versionName = calculateVersionName()</div><div class="line">            versionCode = calculateVersionCode()</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以下是 <code>autoversion.gradle</code> 引用的 工具类</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">ext &#123;</div><div class="line"></div><div class="line">    checkRelease = <span class="hljs-keyword">this</span>.&amp;checkRelease</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-comment">// 通过taskName判断当前操作是否是在打release包</span></div><div class="line"><span class="hljs-keyword">def</span> checkRelease() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> runTasks = gradle.startParameter.taskNames</div><div class="line">    <span class="hljs-keyword">for</span> (String <span class="hljs-string">task :</span> runTasks) &#123;</div><div class="line">        <span class="hljs-comment">// 执行“assemble”并且非“debug”的任务就是执行“release”的任务</span></div><div class="line">        <span class="hljs-keyword">if</span> (task.contains(<span class="hljs-string">"assemble"</span>) &amp;&amp; !task.contains(<span class="hljs-string">"Debug"</span>)) &#123;</div><div class="line">            <span class="hljs-comment">// targetTask = task</span></div><div class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样子有一些不太理想的是,它是使用 版本名来生成版本号的,有可能出现同一份代码多次打包后出现多个不同的版本.所以可以考虑和第一种Git 版本的方式结合.</p>
<p>修改后的版本</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">apply <span class="hljs-string">from:</span> <span class="hljs-string">"../../AndroidShareLib/gradle/util.gradle"</span></div><div class="line"></div><div class="line">ext &#123;</div><div class="line">    versionFile = <span class="hljs-keyword">new</span> File(project.rootDir, <span class="hljs-string">'version.properties'</span>)</div><div class="line">    calculateVersionName = &#123;</div><div class="line">        <span class="hljs-keyword">def</span> version = readVersion()</div><div class="line">        <span class="hljs-keyword">def</span> code = version[<span class="hljs-string">'versioncode'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span></div><div class="line">        <span class="hljs-keyword">if</span> ((code &lt; versionCode)) &#123;</div><div class="line">            incrementVersionNumber()</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"$&#123;version['major']&#125;.$&#123;version['minor']&#125;.$&#123;version['build']&#125;"</span></div><div class="line">    &#125;</div><div class="line">    calculateVersionCode = &#123;</div><div class="line">        <span class="hljs-comment">// 获取当前分支的 commit 数量.</span></div><div class="line">        <span class="hljs-keyword">def</span> cmdVersionCode = <span class="hljs-string">'git rev-list HEAD --count'</span></div><div class="line">        <span class="hljs-keyword">return</span> cmdVersionCode.execute().text.trim().toInteger()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Properties readVersion() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> version = <span class="hljs-keyword">new</span> Properties()</div><div class="line">    <span class="hljs-keyword">def</span> stream</div><div class="line">    <span class="hljs-keyword">try</span> &#123;</div><div class="line">        stream = <span class="hljs-keyword">new</span> FileInputStream(versionFile)</div><div class="line">        version.load(stream)</div><div class="line"></div><div class="line">    &#125; <span class="hljs-keyword">catch</span> (FileNotFoundException ignore) &#123;</div><div class="line">    &#125; <span class="hljs-keyword">finally</span> &#123;</div><div class="line">        <span class="hljs-keyword">if</span> (stream != <span class="hljs-literal">null</span>) stream.close()</div><div class="line">    &#125;</div><div class="line">    <span class="hljs-comment">// safety defaults in case file is missing</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'major'</span>]) version[<span class="hljs-string">'major'</span>] = <span class="hljs-string">"1"</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'minor'</span>]) version[<span class="hljs-string">'minor'</span>] = <span class="hljs-string">"0"</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'build'</span>]) version[<span class="hljs-string">'build'</span>] = <span class="hljs-string">"0"</span></div><div class="line">    <span class="hljs-keyword">if</span> (!version[<span class="hljs-string">'versioncode'</span>]) version[<span class="hljs-string">'versioncode'</span>] = <span class="hljs-string">"0"</span></div><div class="line">    <span class="hljs-keyword">return</span> version</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-keyword">void</span> incrementVersionNumber() &#123;</div><div class="line">    <span class="hljs-keyword">def</span> version = readVersion()</div><div class="line"></div><div class="line">    <span class="hljs-comment">// careful with the types, culprits: "9"++ = ":", "9" + 1 = "91"</span></div><div class="line">    <span class="hljs-keyword">def</span> build = version[<span class="hljs-string">'build'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">int</span></div><div class="line">    build++</div><div class="line">    version[<span class="hljs-string">'build'</span>] = build.toString()</div><div class="line">    version[<span class="hljs-string">'versioncode'</span>] = versionCode <span class="hljs-keyword">as</span> String</div><div class="line"></div><div class="line">    <span class="hljs-keyword">def</span> stream = <span class="hljs-keyword">new</span> FileOutputStream(versionFile)</div><div class="line">    <span class="hljs-keyword">try</span> &#123;</div><div class="line">        version.store(stream, <span class="hljs-literal">null</span>)</div><div class="line">    &#125; <span class="hljs-keyword">finally</span> &#123;</div><div class="line">        stream.close()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="hljs-keyword">if</span> (plugins.hasPlugin(<span class="hljs-string">'android'</span>) || plugins.hasPlugin(<span class="hljs-string">'android-library'</span>)) &#123;</div><div class="line">    android &#123;</div><div class="line">        defaultConfig &#123;</div><div class="line">            versionName = calculateVersionName()</div><div class="line">            versionCode = calculateVersionCode()</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1><span id="reference">Reference</span></h1><p><a href="http://leonchen1024.com/2018/04/13/APP-Version-Control/" target="_blank" rel="external">APP 版本控制</a></p>
<h2><span id="about-me">About Me</span></h2><p>我的博客 <a href="http://leonchen1024.com/" target="_blank" rel="external">leonchen1024.com</a></p>
<p>我的 GitHub <a href="https://github.com/LeonChen1024" target="_blank" rel="external">https://github.com/LeonChen1024</a></p>
<p>微信公众号 </p>
<p><img src="https://github.com/LeonChen1024/LeetCodeRecord/blob/master/Images/CooderQRcodem.jpg?raw=false" alt="wechat"></p>
 -->
            <div class="article-entry">
                    
                    
                        
                            
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                                
                                
                            
                            
                                
                                <p><h1><span id="自动版本号发布">自动版本号发布</span></h1><p>[TOC]</p>
<h1><span id="背景">背景</span></h1><p>由于手动升级版本号等操作容易被遗忘和操作错误,,所以要找到一个可以自动管理版本号的方式.</p>
<h1><span id="内容">内容</span></h1><p>版本控制主要有这么两个属性：</p>
<ul>
<li><p><code>android:versionCode</code> ： 整数，是内部版本号，用于判断一个版本是否比另一个版本新，用户并不需要看到。通常是跟随着发布版本增加该code。如果安装的app 的 versionCode 比当前该 app 的 versionCode 小的话会导致安装失败,提示无法降级安装.</p>
<p>
                            
                        
                    
                    
                        </div>   
                        <div class="article-more-link">
                            <a href="/2019/05/28/Automatic-Version-Code-Release/#more">Read More</a>
                        </div>
                    
        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/page/0/">前</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/2/">次</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/3/">3</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/4/">4</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/logo.png" alt="Leon Chen">
                    
                    
                    <p class="is-size-4 is-block">
                        Leon Chen
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Software Developer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Xiamen China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        投稿
                    </p>
                    <p class="title has-text-weight-normal">
                        39
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        カテゴリ
                    </p>
                    <p class="title has-text-weight-normal">
                        20
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        タグ
                    </p>
                    <p class="title has-text-weight-normal">
                        17
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/LeonChen1024">
                フォローする</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/LeonChen1024">
                
                <i class="fab fa-github"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                カテゴリ
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Chinese</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">30</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Algorithm</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">11</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Android</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">13</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">DataStructure</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Gradle</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Java</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">English</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="undefined">
            <span class="level-start">
                <span class="level-item">Algorithm</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            タグクラウド
        </h3>
        <a href="/tags/Algorithm/" style="font-size: 18.75px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 16.25px;">Android</a> <a href="/tags/Chinese/" style="font-size: 20px;">Chinese</a> <a href="/tags/Custom-View/" style="font-size: 10px;">Custom View</a> <a href="/tags/Data-Structure/" style="font-size: 10px;">Data Structure</a> <a href="/tags/DataStructure/" style="font-size: 10px;">DataStructure</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Error/" style="font-size: 10px;">Error</a> <a href="/tags/Gradle/" style="font-size: 11.25px;">Gradle</a> <a href="/tags/Java/" style="font-size: 12.5px;">Java</a> <a href="/tags/Jetpack/" style="font-size: 11.25px;">Jetpack</a> <a href="/tags/LeetCode/" style="font-size: 17.5px;">LeetCode</a> <a href="/tags/Optimize/" style="font-size: 13.75px;">Optimize</a> <a href="/tags/SourceCode/" style="font-size: 10px;">SourceCode</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/版本差异/" style="font-size: 11.25px;">版本差异</a> <a href="/tags/版本管理/" style="font-size: 12.5px;">版本管理</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最近の記事
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/31/Module-dependency-manage/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/03/31/Module-dependency-manage/titleThumb.jpg" alt="Android 模块依赖版本管理">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-30T16:00:00.000Z">2020-03-31</time></div>
                    <a href="/2020/03/31/Module-dependency-manage/" class="has-link-black-ter is-size-6">Android 模块依赖版本管理</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/01/Gradle-Kotlin/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/03/01/Gradle-Kotlin/titleThumb.jpg" alt="Gradle Kotlin DSL">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-29T16:00:00.000Z">2020-03-01</time></div>
                    <a href="/2020/03/01/Gradle-Kotlin/" class="has-link-black-ter is-size-6">Gradle Kotlin DSL</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Gradle/">Gradle</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/02/26/S1ep5-Tool-Strict-Mode/titleThumb.jpg" alt="工具 严格模式">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time></div>
                    <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/" class="has-link-black-ter is-size-6">工具 严格模式</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/02/26/S1ep6-Custom-Views-and-Performance/titleThumb.jpg" alt="自定义视图及其性能">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time></div>
                    <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/" class="has-link-black-ter is-size-6">自定义视图及其性能</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/titleThumb.jpg" alt="LeetCode 9. Palindrome Number">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-27T16:00:00.000Z">2020-01-28</time></div>
                    <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/" class="has-link-black-ter is-size-6">LeetCode 9. Palindrome Number</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Algorithm/">Algorithm</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            アーカイブ
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">January 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/03/">
                <span class="level-start">
                    <span class="level-item">March 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                タグ
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Algorithm/">
                        <span class="tag">Algorithm</span>
                        <span class="tag is-grey">21</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">16</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Chinese/">
                        <span class="tag">Chinese</span>
                        <span class="tag is-grey">30</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Custom-View/">
                        <span class="tag">Custom View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Data-Structure/">
                        <span class="tag">Data Structure</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DataStructure/">
                        <span class="tag">DataStructure</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/English/">
                        <span class="tag">English</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Error/">
                        <span class="tag">Error</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gradle/">
                        <span class="tag">Gradle</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Jetpack/">
                        <span class="tag">Jetpack</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">18</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Optimize/">
                        <span class="tag">Optimize</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SourceCode/">
                        <span class="tag">SourceCode</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UI/">
                        <span class="tag">UI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/版本差异/">
                        <span class="tag">版本差异</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/版本管理/">
                        <span class="tag">版本管理</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最近の記事
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/31/Module-dependency-manage/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/03/31/Module-dependency-manage/titleThumb.jpg" alt="Android 模块依赖版本管理">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-30T16:00:00.000Z">2020-03-31</time></div>
                    <a href="/2020/03/31/Module-dependency-manage/" class="has-link-black-ter is-size-6">Android 模块依赖版本管理</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/01/Gradle-Kotlin/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/03/01/Gradle-Kotlin/titleThumb.jpg" alt="Gradle Kotlin DSL">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-29T16:00:00.000Z">2020-03-01</time></div>
                    <a href="/2020/03/01/Gradle-Kotlin/" class="has-link-black-ter is-size-6">Gradle Kotlin DSL</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Gradle/">Gradle</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/02/26/S1ep5-Tool-Strict-Mode/titleThumb.jpg" alt="工具 严格模式">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time></div>
                    <a href="/2020/02/26/S1ep5-Tool-Strict-Mode/" class="has-link-black-ter is-size-6">工具 严格模式</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/02/26/S1ep6-Custom-Views-and-Performance/titleThumb.jpg" alt="自定义视图及其性能">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-25T16:00:00.000Z">2020-02-26</time></div>
                    <a href="/2020/02/26/S1ep6-Custom-Views-and-Performance/" class="has-link-black-ter is-size-6">自定义视图及其性能</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Android/">Android</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/titleThumb.jpg" alt="LeetCode 9. Palindrome Number">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-27T16:00:00.000Z">2020-01-28</time></div>
                    <a href="/2020/01/28/LeetCode-9-Palindrome-Number/Record-cn/" class="has-link-black-ter is-size-6">LeetCode 9. Palindrome Number</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Chinese/">Chinese</a> / <a class="has-link-grey -link" href="/categories/Chinese/Algorithm/">Algorithm</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            アーカイブ
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">May 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">January 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/03/">
                <span class="level-start">
                    <span class="level-item">March 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                タグ
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Algorithm/">
                        <span class="tag">Algorithm</span>
                        <span class="tag is-grey">21</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android/">
                        <span class="tag">Android</span>
                        <span class="tag is-grey">16</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Chinese/">
                        <span class="tag">Chinese</span>
                        <span class="tag is-grey">30</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Custom-View/">
                        <span class="tag">Custom View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Data-Structure/">
                        <span class="tag">Data Structure</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DataStructure/">
                        <span class="tag">DataStructure</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/English/">
                        <span class="tag">English</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Error/">
                        <span class="tag">Error</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gradle/">
                        <span class="tag">Gradle</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Java/">
                        <span class="tag">Java</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Jetpack/">
                        <span class="tag">Jetpack</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">18</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Optimize/">
                        <span class="tag">Optimize</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SourceCode/">
                        <span class="tag">SourceCode</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UI/">
                        <span class="tag">UI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/版本差异/">
                        <span class="tag">版本差异</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/版本管理/">
                        <span class="tag">版本管理</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="LeonChen&#39;s Blog" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 LeonChen&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/LeonChen1024/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '投稿',
                PAGES: 'Pages',
                CATEGORIES: 'カテゴリ',
                TAGS: 'タグ',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>